{"version":3,"sources":["locales lazy /^/.//.*/.json$/ groupOptions: {} namespace object","locales sync /app/.json$","../node_modules/dayjs/locale sync /^/.//.*/.js$","config/dayjs.js","config/i18n.js","worker/pdf.worker.js","components/pdf-preview.js","components/pdf-progress.jsx","components/pdf-preview-card.js","configuration-form/itinerary.jsx","lib/attachments.js","pdf/lib/fonts.js","pdf/config.js","lib/config-compat.js","configuration-form/configuration-selector.jsx","configuration-form/items-list.jsx","configuration-form/special-dates.jsx","configuration-form/toggle-accordion-item.jsx","lib/date.js","configuration.jsx","navigation.jsx","lib/paths.js","loader.jsx","index.js"],"names":["map","webpackAsyncContext","req","__webpack_require__","o","Promise","resolve","then","e","Error","code","ids","id","all","slice","t","keys","Object","module","exports","webpackContext","webpackContextResolve","dayjs","extend","advancedFormat","customParseFormat","isoWeek","localeData","objectSupport","updateLocale","utc","weekday","webpackBackend","type","read","language","namespace","callback","resources","catch","error","getSupportedLocales","locales","require","file","match","splice","indexOf","unshift","Worker_fn","Worker","__webpack_public_path__","PdfPreview","blobUrl","title","src","width","height","PdfProgress","state","elapsedTime","updateProgress","setState","this","intervalId","setInterval","clearInterval","progress","props","expectedTime","ProgressBar","animated","now","React","Component","PdfPreviewCard","isGeneratingPdf","isGeneratingPreview","onDownload","Stack","direction","className","gap","Button","variant","disabled","onClick","Spinner","as","animation","size","role","aria-hidden","renderPdfPreview","renderNoPreview","PureComponent","withTranslation","ITINERARY_ITEM","ITINERARY_HEADING","ITINERARY_CHECKBOXES","ITINERARY_LINES","ITINERARY_NEW_PAGE","Itinerary","renderRow","index","value","renderItem","renderHeading","renderNewPage","renderCheckboxes","renderLines","item","field","onChange","InputGroup","FormControl","placeholder","data-index","data-type","data-field","required","renderRemoveButton","Text","numberOfLines","FloatingLabel","controlId","label","min","max","onRemove","itinerary","onAdd","onCopy","length","Alert","ButtonGroup","getJsonAttachment","pdfData","attachmentName","a","PDFDocument","load","updateMetadata","pdfDoc","catalog","has","PDFName","of","undefined","Names","lookup","PDFDict","EmbeddedFiles","EFNames","PDFArray","idx","len","decodeText","fileSpec","stream","PDFStream","data","decodePDFRawStream","decode","JSON","parse","TextDecoder","generateFontDefinition","font","fontPath","family","fonts","fontStyle","fontWeight","ARIMO","LATO","MONTSERRAT","SOURCE_SERIF_PRO","AVAILABLE_FONTS","CONFIG_FIELDS","CONFIG_FILE","hydrateFromObject","object","reduce","fields","PdfConfig","year","month","firstDayOfWeek","weekendDays","isLeftHanded","alwaysOnSidebar","monthCount","fontFamily","isMonthOverviewEnabled","habits","ns","monthItinerary","isWeekOverviewEnabled","todos","dayOfWeek","dayItineraries","Array","items","isEnabled","isWeekRetrospectiveEnabled","weekRetrospectiveItinerary","pageSize","specialDates","convertConfigToCurrentVersion","config","configWithDefaults","assign","version","dayItinerary","convertFromVersion1","STATUS_EMPTY","STATUS_LOADING","STATUS_ERROR","STATUS_SUCCESS","TEMPLATE_BASIC","TEMPLATE_ADVANCED","TEMPLATE_BLANK","TEMPLATE_MINIMALISTIC","ConfigurationSelector","status","handleTemplateSelect","event","target","dataset","template","generateAdvancedDayItems","onConfigChange","handleFileChange","files","reader","FileReader","onload","handleFileLoad","readAsArrayBuffer","result","attachment","renderButton","style","OverlayTrigger","placement","overlay","Tooltip","data-template","i","push","toString","padStart","Form","Label","aria-label","Group","Control","accept","renderStatusMessage","ItemsList","Accordion","Item","eventKey","Header","Body","DATE_FORMAT","SpecialDates","date","onAddClick","key","format","values","ListGroup","data-key","Badge","bg","renderItems","children","onToggle","toggledOn","ToggleButton","checked","getWeekdays","weekdaysFull","weekdays","weekdaysMin","weekdaysShort","indexOfDay","full","short","namespaces","DAY_ITINERARY_ID_PREFIX","Configuration","lastPreviewTime","lastFullTime","initialState","handleConfigChange","newConfig","handleFieldChange","newFirstDayOfWeek","Number","i18n","weekStart","newFirstDayOfWeekIndex","findIndex","isDayOfWeek","dayItinerariesReordered","handleToggle","handleDayItineraryToggle","replace","newItineraries","handleWeekendChange","newWeekendDays","indexInArray","handleDownload","generatePdf","handleItemAdd","newItems","handleItemChange","handleItemRemove","handleItineraryAdd","newItinerary","handleItineraryChange","handleItineraryRemove","handlePreview","preventDefault","handlePdfWorkerMessage","blob","shouldTriggerDownload","previewTime","Date","getTime","startTime","URL","createObjectURL","fullTime","saveAs","handlePdfGeneration","url","loading","handleDayItineraryChange","handleDayItineraryRemove","handleDayItineraryCopy","itemsToCopy","handleDayItineraryAdd","handleSpecialDateAdd","newSpecialDates","handleSpecialDateRemove","renderDayItinerary","pdfWorker","PdfWorker","onmessage","prevProps","prevState","revokeObjectURL","isPreview","postMessage","months","Check","includes","onSubmit","defaultActiveKey","Select","renderFonts","renderMonths","renderDaysOfWeek","renderWeekendSelection","Container","fluid","Row","Col","renderConfigurationForm","Card","Navigation","handleLanguageSelection","newLanguage","changeLanguage","handleLanguageChange","renderLanguageOption","on","off","Navbar","expand","Brand","href","Toggle","aria-controls","Collapse","Nav","Link","active","column","htmlFor","Loader","use","LanguageDetector","initReactI18next","init","debug","process","fallbackLng","supportedLngs","interpolation","escapeValue","locale","loadingComponent","ReactDOM","render","StrictMode","fallback","document","getElementById"],"mappings":"uiuBAAA,IAAIA,EAAM,CACT,gBAAiB,CAChB,KAED,mBAAoB,CACnB,IACA,GAED,gBAAiB,CAChB,IACA,GAED,gBAAiB,CAChB,KAED,mBAAoB,CACnB,IACA,GAED,gBAAiB,CAChB,IACA,GAED,gBAAiB,CAChB,KAED,mBAAoB,CACnB,IACA,GAED,gBAAiB,CAChB,IACA,GAED,gBAAiB,CAChB,KAED,mBAAoB,CACnB,IACA,GAED,gBAAiB,CAChB,IACA,IAED,gBAAiB,CAChB,KAED,mBAAoB,CACnB,IACA,IAED,gBAAiB,CAChB,IACA,IAED,gBAAiB,CAChB,KAED,mBAAoB,CACnB,IACA,IAED,gBAAiB,CAChB,IACA,KAGF,SAASC,EAAoBC,GAC5B,IAAIC,EAAoBC,EAAEJ,EAAKE,GAC9B,OAAOG,QAAQC,UAAUC,MAAK,WAC7B,IAAIC,EAAI,IAAIC,MAAM,uBAAyBP,EAAM,KAEjD,MADAM,EAAEE,KAAO,mBACHF,KAIR,IAAIG,EAAMX,EAAIE,GAAMU,EAAKD,EAAI,GAC7B,OAAON,QAAQQ,IAAIF,EAAIG,MAAM,GAAGd,IAAIG,EAAoBK,IAAID,MAAK,WAChE,OAAOJ,EAAoBY,EAAEH,EAAI,MAGnCX,EAAoBe,KAAO,WAC1B,OAAOC,OAAOD,KAAKhB,IAEpBC,EAAoBW,GAAK,IACzBM,EAAOC,QAAUlB,G,oBCtFjB,IAAID,EAAM,CACT,gBAAiB,IACjB,gBAAiB,IACjB,gBAAiB,IACjB,gBAAiB,IACjB,gBAAiB,IACjB,gBAAiB,KAIlB,SAASoB,EAAelB,GACvB,IAAIU,EAAKS,EAAsBnB,GAC/B,OAAOC,EAAoBS,GAE5B,SAASS,EAAsBnB,GAC9B,IAAIC,EAAoBC,EAAEJ,EAAKE,GAAM,CACpC,IAAIM,EAAI,IAAIC,MAAM,uBAAyBP,EAAM,KAEjD,MADAM,EAAEE,KAAO,mBACHF,EAEP,OAAOR,EAAIE,GAEZkB,EAAeJ,KAAO,WACrB,OAAOC,OAAOD,KAAKhB,IAEpBoB,EAAed,QAAUe,EACzBH,EAAOC,QAAUC,EACjBA,EAAeR,GAAK,K,0CC3BpB,IAAIZ,EAAM,CACT,UAAW,IACX,UAAW,IACX,aAAc,IACd,aAAc,IACd,aAAc,IACd,aAAc,IACd,aAAc,IACd,aAAc,IACd,aAAc,IACd,UAAW,IACX,UAAW,IACX,UAAW,IACX,UAAW,IACX,UAAW,IACX,UAAW,IACX,UAAW,IACX,UAAW,IACX,UAAW,IACX,UAAW,IACX,UAAW,IACX,UAAW,IACX,UAAW,IACX,UAAW,IACX,UAAW,IACX,aAAc,IACd,aAAc,IACd,UAAW,IACX,UAAW,IACX,UAAW,IACX,aAAc,IACd,aAAc,IACd,aAAc,IACd,aAAc,IACd,aAAc,IACd,aAAc,IACd,aAAc,IACd,aAAc,IACd,aAAc,IACd,UAAW,IACX,UAAW,IACX,aAAc,IACd,aAAc,IACd,aAAc,IACd,aAAc,IACd,UAAW,IACX,UAAW,IACX,UAAW,IACX,UAAW,IACX,UAAW,IACX,UAAW,IACX,aAAc,IACd,aAAc,IACd,UAAW,IACX,UAAW,IACX,UAAW,IACX,UAAW,IACX,UAAW,IACX,gBAAiB,IACjB,UAAW,IACX,UAAW,IACX,UAAW,IACX,UAAW,IACX,UAAW,IACX,UAAW,IACX,aAAc,IACd,UAAW,IACX,UAAW,IACX,aAAc,IACd,UAAW,IACX,UAAW,IACX,UAAW,IACX,UAAW,IACX,UAAW,IACX,UAAW,IACX,UAAW,IACX,UAAW,IACX,UAAW,IACX,UAAW,IACX,UAAW,IACX,UAAW,IACX,UAAW,IACX,UAAW,IACX,UAAW,IACX,UAAW,IACX,UAAW,IACX,UAAW,IACX,UAAW,IACX,UAAW,IACX,aAAc,IACd,UAAW,IACX,UAAW,IACX,UAAW,IACX,UAAW,IACX,UAAW,IACX,aAAc,IACd,UAAW,IACX,UAAW,IACX,cAAe,IACf,aAAc,IACd,UAAW,IACX,aAAc,IACd,UAAW,IACX,UAAW,IACX,UAAW,IACX,UAAW,IACX,UAAW,IACX,UAAW,IACX,UAAW,IACX,UAAW,IACX,UAAW,IACX,UAAW,IACX,eAAgB,IAChB,UAAW,IACX,UAAW,IACX,aAAc,IACd,UAAW,IACX,UAAW,IACX,UAAW,IACX,UAAW,IACX,WA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","file":"static/js/main.12b224cb.chunk.js","sourcesContent":["var map = {\n\t\"./da/app.json\": [\n\t\t106\n\t],\n\t\"./da/config.json\": [\n\t\t327,\n\t\t3\n\t],\n\t\"./da/pdf.json\": [\n\t\t328,\n\t\t4\n\t],\n\t\"./en/app.json\": [\n\t\t107\n\t],\n\t\"./en/config.json\": [\n\t\t329,\n\t\t5\n\t],\n\t\"./en/pdf.json\": [\n\t\t330,\n\t\t6\n\t],\n\t\"./es/app.json\": [\n\t\t108\n\t],\n\t\"./es/config.json\": [\n\t\t331,\n\t\t7\n\t],\n\t\"./es/pdf.json\": [\n\t\t332,\n\t\t8\n\t],\n\t\"./fr/app.json\": [\n\t\t109\n\t],\n\t\"./fr/config.json\": [\n\t\t333,\n\t\t9\n\t],\n\t\"./fr/pdf.json\": [\n\t\t334,\n\t\t10\n\t],\n\t\"./nb/app.json\": [\n\t\t110\n\t],\n\t\"./nb/config.json\": [\n\t\t335,\n\t\t11\n\t],\n\t\"./nb/pdf.json\": [\n\t\t336,\n\t\t12\n\t],\n\t\"./pl/app.json\": [\n\t\t111\n\t],\n\t\"./pl/config.json\": [\n\t\t337,\n\t\t13\n\t],\n\t\"./pl/pdf.json\": [\n\t\t338,\n\t\t14\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn Promise.all(ids.slice(1).map(__webpack_require__.e)).then(function() {\n\t\treturn __webpack_require__.t(id, 3);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 160;\nmodule.exports = webpackAsyncContext;","var map = {\n\t\"./da/app.json\": 106,\n\t\"./en/app.json\": 107,\n\t\"./es/app.json\": 108,\n\t\"./fr/app.json\": 109,\n\t\"./nb/app.json\": 110,\n\t\"./pl/app.json\": 111\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 161;","var map = {\n\t\"./af.js\": 185,\n\t\"./am.js\": 186,\n\t\"./ar-dz.js\": 187,\n\t\"./ar-iq.js\": 188,\n\t\"./ar-kw.js\": 189,\n\t\"./ar-ly.js\": 190,\n\t\"./ar-ma.js\": 191,\n\t\"./ar-sa.js\": 192,\n\t\"./ar-tn.js\": 193,\n\t\"./ar.js\": 194,\n\t\"./az.js\": 195,\n\t\"./be.js\": 196,\n\t\"./bg.js\": 197,\n\t\"./bi.js\": 198,\n\t\"./bm.js\": 199,\n\t\"./bn.js\": 200,\n\t\"./bo.js\": 201,\n\t\"./br.js\": 202,\n\t\"./bs.js\": 203,\n\t\"./ca.js\": 204,\n\t\"./cs.js\": 205,\n\t\"./cv.js\": 206,\n\t\"./cy.js\": 207,\n\t\"./da.js\": 208,\n\t\"./de-at.js\": 209,\n\t\"./de-ch.js\": 210,\n\t\"./de.js\": 211,\n\t\"./dv.js\": 212,\n\t\"./el.js\": 213,\n\t\"./en-au.js\": 214,\n\t\"./en-ca.js\": 215,\n\t\"./en-gb.js\": 216,\n\t\"./en-ie.js\": 217,\n\t\"./en-il.js\": 218,\n\t\"./en-in.js\": 219,\n\t\"./en-nz.js\": 220,\n\t\"./en-sg.js\": 221,\n\t\"./en-tt.js\": 222,\n\t\"./en.js\": 223,\n\t\"./eo.js\": 224,\n\t\"./es-do.js\": 225,\n\t\"./es-mx.js\": 226,\n\t\"./es-pr.js\": 227,\n\t\"./es-us.js\": 228,\n\t\"./es.js\": 229,\n\t\"./et.js\": 230,\n\t\"./eu.js\": 231,\n\t\"./fa.js\": 232,\n\t\"./fi.js\": 233,\n\t\"./fo.js\": 234,\n\t\"./fr-ca.js\": 235,\n\t\"./fr-ch.js\": 236,\n\t\"./fr.js\": 237,\n\t\"./fy.js\": 238,\n\t\"./ga.js\": 239,\n\t\"./gd.js\": 240,\n\t\"./gl.js\": 241,\n\t\"./gom-latn.js\": 242,\n\t\"./gu.js\": 243,\n\t\"./he.js\": 244,\n\t\"./hi.js\": 245,\n\t\"./hr.js\": 246,\n\t\"./ht.js\": 247,\n\t\"./hu.js\": 248,\n\t\"./hy-am.js\": 249,\n\t\"./id.js\": 250,\n\t\"./is.js\": 251,\n\t\"./it-ch.js\": 252,\n\t\"./it.js\": 253,\n\t\"./ja.js\": 254,\n\t\"./jv.js\": 255,\n\t\"./ka.js\": 256,\n\t\"./kk.js\": 257,\n\t\"./km.js\": 258,\n\t\"./kn.js\": 259,\n\t\"./ko.js\": 260,\n\t\"./ku.js\": 261,\n\t\"./ky.js\": 262,\n\t\"./lb.js\": 263,\n\t\"./lo.js\": 264,\n\t\"./lt.js\": 265,\n\t\"./lv.js\": 266,\n\t\"./me.js\": 267,\n\t\"./mi.js\": 268,\n\t\"./mk.js\": 269,\n\t\"./ml.js\": 270,\n\t\"./mn.js\": 271,\n\t\"./mr.js\": 272,\n\t\"./ms-my.js\": 273,\n\t\"./ms.js\": 274,\n\t\"./mt.js\": 275,\n\t\"./my.js\": 276,\n\t\"./nb.js\": 277,\n\t\"./ne.js\": 278,\n\t\"./nl-be.js\": 279,\n\t\"./nl.js\": 280,\n\t\"./nn.js\": 281,\n\t\"./oc-lnc.js\": 282,\n\t\"./pa-in.js\": 283,\n\t\"./pl.js\": 284,\n\t\"./pt-br.js\": 285,\n\t\"./pt.js\": 286,\n\t\"./ro.js\": 287,\n\t\"./ru.js\": 288,\n\t\"./rw.js\": 289,\n\t\"./sd.js\": 290,\n\t\"./se.js\": 291,\n\t\"./si.js\": 292,\n\t\"./sk.js\": 293,\n\t\"./sl.js\": 294,\n\t\"./sq.js\": 295,\n\t\"./sr-cyrl.js\": 296,\n\t\"./sr.js\": 297,\n\t\"./ss.js\": 298,\n\t\"./sv-fi.js\": 299,\n\t\"./sv.js\": 300,\n\t\"./sw.js\": 301,\n\t\"./ta.js\": 302,\n\t\"./te.js\": 303,\n\t\"./tet.js\": 304,\n\t\"./tg.js\": 305,\n\t\"./th.js\": 306,\n\t\"./tk.js\": 307,\n\t\"./tl-ph.js\": 308,\n\t\"./tlh.js\": 309,\n\t\"./tr.js\": 310,\n\t\"./tzl.js\": 311,\n\t\"./tzm-latn.js\": 312,\n\t\"./tzm.js\": 313,\n\t\"./ug-cn.js\": 314,\n\t\"./uk.js\": 315,\n\t\"./ur.js\": 316,\n\t\"./uz-latn.js\": 317,\n\t\"./uz.js\": 318,\n\t\"./vi.js\": 319,\n\t\"./x-pseudo.js\": 320,\n\t\"./yo.js\": 321,\n\t\"./zh-cn.js\": 322,\n\t\"./zh-hk.js\": 323,\n\t\"./zh-tw.js\": 324,\n\t\"./zh.js\": 325\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 184;","import dayjs from 'dayjs';\nimport advancedFormat from 'dayjs/plugin/advancedFormat';\nimport customParseFormat from 'dayjs/plugin/customParseFormat';\nimport isoWeek from 'dayjs/plugin/isoWeek';\nimport localeData from 'dayjs/plugin/localeData';\nimport objectSupport from 'dayjs/plugin/objectSupport';\nimport updateLocale from 'dayjs/plugin/updateLocale';\nimport utc from 'dayjs/plugin/utc';\nimport weekday from 'dayjs/plugin/weekday';\n\ndayjs.extend( advancedFormat );\ndayjs.extend( customParseFormat );\ndayjs.extend( isoWeek );\ndayjs.extend( localeData );\ndayjs.extend( objectSupport );\ndayjs.extend( updateLocale );\ndayjs.extend( utc );\ndayjs.extend( weekday );\n","export function i18nConfiguration( namespaces ) {\n\treturn {\n\t\tdebug: process.env.NODE_ENV === 'development',\n\t\tfallbackLng: 'en',\n\t\tsupportedLngs: getSupportedLocales(),\n\t\tns: namespaces,\n\t\tinterpolation: {\n\t\t\tescapeValue: false, // not needed for react as it escapes by default\n\t\t},\n\t};\n}\n\nexport const webpackBackend = {\n\ttype: 'backend',\n\tread: ( language, namespace, callback ) => {\n\t\timport( '../locales/' + language + '/' + namespace + '.json' )\n\t\t\t.then( ( resources ) => {\n\t\t\t\tcallback( null, resources );\n\t\t\t} )\n\t\t\t.catch( ( error ) => {\n\t\t\t\tcallback( error, null );\n\t\t\t} );\n\t},\n};\n\nexport function getSupportedLocales() {\n\tconst locales = require\n\t\t.context( '../locales', true, /app\\.json$/ )\n\t\t.keys()\n\t\t.map( ( file ) => file.match( /\\/(.+)\\/app\\.json$/ )[ 1 ] );\n\n\t// Make sure that English is first on the list\n\tlocales.splice( locales.indexOf( 'en' ), 1 );\n\tlocales.unshift( 'en' );\n\treturn locales;\n}\n","export default function Worker_fn() {\n  return new Worker(__webpack_public_path__ + \"static/js/pdf.worker.0ed5b99e.worker.js\");\n}\n","import PropTypes from 'prop-types';\nimport React from 'react';\n\nconst PdfPreview = ( { blobUrl, title } ) => {\n\treturn <iframe title={ title } src={ blobUrl } width=\"100%\" height=\"100%\" />;\n};\n\nPdfPreview.propTypes = {\n\tblobUrl: PropTypes.string.isRequired,\n\ttitle: PropTypes.string.isRequired,\n};\n\nexport default PdfPreview;\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport ProgressBar from 'react-bootstrap/ProgressBar';\n\nconst UPDATE_INTERVAL = 700;\n\nclass PdfProgress extends React.Component {\n\tstate = {\n\t\telapsedTime: 0,\n\t};\n\n\tcomponentDidMount() {\n\t\tthis.intervalId = setInterval( this.updateProgress, UPDATE_INTERVAL );\n\t}\n\n\tcomponentWillUnmount() {\n\t\tclearInterval( this.intervalId );\n\t}\n\n\tupdateProgress = () => {\n\t\tthis.setState( { elapsedTime: this.state.elapsedTime + UPDATE_INTERVAL } );\n\t};\n\n\trender() {\n\t\tconst progress = 100 * ( this.state.elapsedTime / this.props.expectedTime );\n\t\treturn <ProgressBar animated now={ progress } />;\n\t}\n}\n\nPdfProgress.propTypes = {\n\texpectedTime: PropTypes.number.isRequired,\n};\n\nexport default PdfProgress;\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport Button from 'react-bootstrap/Button';\nimport Spinner from 'react-bootstrap/Spinner';\nimport Stack from 'react-bootstrap/Stack';\nimport { withTranslation } from 'react-i18next';\n\nimport PdfPreview from 'components/pdf-preview';\nimport PdfProgress from 'components/pdf-progress';\n\nclass PdfPreviewCard extends React.PureComponent {\n\trenderPdfPreview() {\n\t\tconst { blobUrl, isGeneratingPdf, isGeneratingPreview, onDownload, t } =\n\t\t\tthis.props;\n\t\treturn (\n\t\t\t<Stack direction=\"vertical\" className=\"h-100\">\n\t\t\t\t<PdfPreview blobUrl={ blobUrl } title={ t( 'preview.viewer-title' ) } />\n\t\t\t\t<Stack\n\t\t\t\t\tdirection=\"vertical\"\n\t\t\t\t\tgap={ 2 }\n\t\t\t\t\tclassName=\"py-3 position-sticky bg-body refresh-button\"\n\t\t\t\t>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tvariant=\"secondary\"\n\t\t\t\t\t\tdisabled={ isGeneratingPreview || isGeneratingPdf }\n\t\t\t\t\t\tonClick={ onDownload }\n\t\t\t\t\t>\n\t\t\t\t\t\t{isGeneratingPdf ? (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<Spinner\n\t\t\t\t\t\t\t\t\tas=\"span\"\n\t\t\t\t\t\t\t\t\tanimation=\"border\"\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\trole=\"status\"\n\t\t\t\t\t\t\t\t\taria-hidden=\"true\"\n\t\t\t\t\t\t\t\t\tclassName=\"me-1\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t{t( 'preview.generating.full' )}\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\tt( 'configuration.button.download' )\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Button>\n\t\t\t\t\t{isGeneratingPdf && (\n\t\t\t\t\t\t<PdfProgress expectedTime={ this.props.expectedTime } />\n\t\t\t\t\t)}\n\t\t\t\t</Stack>\n\t\t\t</Stack>\n\t\t);\n\t}\n\n\trenderNoPreview() {\n\t\tconst { t, isGeneratingPreview } = this.props;\n\n\t\tif ( isGeneratingPreview ) {\n\t\t\treturn (\n\t\t\t\t<div className=\"h-100 d-flex align-items-center justify-content-center\">\n\t\t\t\t\t<Spinner\n\t\t\t\t\t\tanimation=\"border\"\n\t\t\t\t\t\trole=\"status\"\n\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\tclassName=\"me-1\"\n\t\t\t\t\t/>\n\t\t\t\t\t{t( 'preview.generating.preview' )}\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t\treturn (\n\t\t\t<Stack\n\t\t\t\tdirection=\"vertical\"\n\t\t\t\tclassName=\"h-100 d-flex align-items-center justify-content-center text-center\"\n\t\t\t>\n\t\t\t\t<p className=\"lead\">{t( 'preview.empty.title' )}</p>\n\t\t\t\t<p>{t( 'preview.empty.subtitle' )}</p>\n\t\t\t</Stack>\n\t\t);\n\t}\n\n\trender() {\n\t\tconst { blobUrl, isGeneratingPreview } = this.props;\n\t\tif ( blobUrl && ! isGeneratingPreview ) {\n\t\t\treturn this.renderPdfPreview();\n\t\t}\n\n\t\treturn this.renderNoPreview();\n\t}\n}\n\nPdfPreviewCard.propTypes = {\n\tblobUrl: PropTypes.string,\n\texpectedTime: PropTypes.number.isRequired,\n\tisGeneratingPdf: PropTypes.bool.isRequired,\n\tisGeneratingPreview: PropTypes.bool.isRequired,\n\tonDownload: PropTypes.func.isRequired,\n\tt: PropTypes.func.isRequired,\n};\n\nexport default withTranslation( 'app' )( PdfPreviewCard );\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport Alert from 'react-bootstrap/Alert';\nimport Button from 'react-bootstrap/Button';\nimport ButtonGroup from 'react-bootstrap/ButtonGroup';\nimport FloatingLabel from 'react-bootstrap/FloatingLabel';\nimport FormControl from 'react-bootstrap/FormControl';\nimport InputGroup from 'react-bootstrap/InputGroup';\nimport Stack from 'react-bootstrap/Stack';\nimport { withTranslation } from 'react-i18next';\n\nexport const ITINERARY_ITEM = 'item';\nexport const ITINERARY_HEADING = 'heading';\nexport const ITINERARY_CHECKBOXES = 'checkboxes';\nexport const ITINERARY_LINES = 'lines';\nexport const ITINERARY_NEW_PAGE = 'new_page';\n\nclass Itinerary extends React.Component {\n    renderRow = ({type, value}, index) => {\n        switch (type) {\n            case ITINERARY_ITEM:\n                return this.renderItem(value, index);\n\n            case ITINERARY_HEADING:\n                return this.renderHeading(value, index);\n\n            case ITINERARY_NEW_PAGE:\n                return this.renderNewPage(value, index);\n\n            case ITINERARY_CHECKBOXES:\n                return this.renderCheckboxes(value, index);\n\n            case ITINERARY_LINES:\n            default:\n                return this.renderLines(value, index);\n        }\n    };\n\n    renderItem(item, index) {\n        const {field, onChange} = this.props;\n        return (\n            <InputGroup key={index}>\n                <FormControl\n                    placeholder=\"Itinerary item\"\n                    value={item}\n                    onChange={onChange}\n                    data-index={index}\n                    data-type={ITINERARY_ITEM}\n                    data-field={field}\n                    required\n                />\n                {this.renderRemoveButton(index)}\n            </InputGroup>\n        );\n    }\n\n    renderHeading(item, index) {\n        const {field, onChange} = this.props;\n        return (\n            <InputGroup key={index}>\n                <FormControl\n                    placeholder=\"Itinerary heading\"\n                    value={item}\n                    onChange={onChange}\n                    data-index={index}\n                    data-type={ITINERARY_HEADING}\n                    data-field={field}\n                    required\n                />\n                {this.renderRemoveButton(index)}\n            </InputGroup>\n        );\n    }\n\n    renderNewPage(item, index) {\n        const {t} = this.props;\n        return (\n            <InputGroup key={index}>\n                <InputGroup.Text className=\"flex-grow-1\">\n                    {t('configuration.itinerary.placeholder.page')}\n                </InputGroup.Text>\n                {this.renderRemoveButton(index)}\n            </InputGroup>\n        );\n    }\n\n    renderLines(numberOfLines, index) {\n        const {field, onChange, t} = this.props;\n        return (\n            <InputGroup key={index}>\n                <FloatingLabel\n                    className=\"flex-grow-1\"\n                    controlId={'lines-' + index}\n                    label={t('configuration.itinerary.placeholder.lines')}\n                >\n                    <FormControl\n                        placeholder={t('configuration.itinerary.placeholder.lines')}\n                        type=\"number\"\n                        min={1}\n                        max={23}\n                        value={numberOfLines}\n                        onChange={onChange}\n                        data-index={index}\n                        data-type={ITINERARY_LINES}\n                        data-field={field}\n                        required\n                    />\n                </FloatingLabel>\n                {this.renderRemoveButton(index)}\n            </InputGroup>\n        );\n    }\n\n    renderCheckboxes(numberOfLines, index) {\n        const {field, onChange, t} = this.props;\n        return (\n            <InputGroup key={index}>\n                <FloatingLabel\n                    className=\"flex-grow-1\"\n                    controlId={'checkboxes-' + index}\n                    label={t('configuration.itinerary.placeholder.checkboxes')}\n                >\n                    <FormControl\n                        placeholder={t('configuration.itinerary.placeholder.checkboxes')}\n                        type=\"number\"\n                        min={1}\n                        max={23}\n                        value={numberOfLines}\n                        onChange={onChange}\n                        data-index={index}\n                        data-type={ITINERARY_CHECKBOXES}\n                        data-field={field}\n                        required\n                    />\n                </FloatingLabel>\n                {this.renderRemoveButton(index)}\n            </InputGroup>\n        );\n    }\n\n    renderRemoveButton(index) {\n        const {field, onRemove, t} = this.props;\n        return (\n            <Button\n                variant=\"outline-danger\"\n                onClick={onRemove}\n                data-index={index}\n                data-field={field}\n            >\n                {t('configuration.itinerary.button.remove')}\n            </Button>\n        );\n    }\n\n    render() {\n        const {field, itinerary, onAdd, onCopy, t} = this.props;\n        return (\n            <>\n                <Stack gap={2}>\n                    {itinerary.map(this.renderRow)}\n                    {itinerary.length === 0 && (\n                        <Alert variant=\"secondary\" className=\"mb-0\">\n                            {t('configuration.itinerary.empty')}\n                        </Alert>\n                    )}\n                    <Stack direction=\"horizontal\" gap={3}>\n                        <ButtonGroup>\n                            <Button\n                                variant=\"outline-secondary\"\n                                onClick={onAdd}\n                                data-type={ITINERARY_ITEM}\n                                data-field={field}\n                            >\n                                {t('configuration.itinerary.button.item')}\n                            </Button>\n                            <Button\n                                variant=\"outline-secondary\"\n                                onClick={onAdd}\n                                data-type={ITINERARY_HEADING}\n                                data-field={field}\n                            >\n                                {t('configuration.itinerary.button.heading')}\n                            </Button>\n                            <Button\n                                variant=\"outline-secondary\"\n                                onClick={onAdd}\n                                data-type={ITINERARY_CHECKBOXES}\n                                data-field={field}\n                            >\n                                {t('configuration.itinerary.button.checkboxes')}\n                            </Button>\n                            <Button\n                                variant=\"outline-secondary\"\n                                onClick={onAdd}\n                                data-type={ITINERARY_LINES}\n                                data-field={field}\n                            >\n                                {t('configuration.itinerary.button.lines')}\n                            </Button>\n                            <Button\n                                variant=\"outline-secondary\"\n                                onClick={onAdd}\n                                data-type={ITINERARY_NEW_PAGE}\n                                data-field={field}\n                            >\n                                {t('configuration.itinerary.button.page')}\n                            </Button>\n                        </ButtonGroup>\n                    </Stack>\n                </Stack>\n                {onCopy && (\n                    <Button\n                        variant=\"outline-danger\"\n                        className=\"mt-3\"\n                        onClick={onCopy}\n                        data-field={field}\n                    >\n                        {t('configuration.itinerary.button.copy')}\n                    </Button>\n                )}\n            </>\n        );\n    }\n}\n\nItinerary.propTypes = {\n\tfield: PropTypes.string.isRequired,\n\titinerary: PropTypes.array.isRequired,\n\tonAdd: PropTypes.func.isRequired,\n\tonChange: PropTypes.func.isRequired,\n\tonCopy: PropTypes.func,\n\tonRemove: PropTypes.func.isRequired,\n\tt: PropTypes.func.isRequired,\n};\n\nexport default withTranslation( 'app' )( Itinerary );\n","import {\n\tPDFDocument,\n\tPDFName,\n\tPDFDict,\n\tPDFArray,\n\tPDFStream,\n\tdecodePDFRawStream,\n} from 'pdf-lib';\n\n// https://github.com/Hopding/pdf-lib/issues/534#issuecomment-662756915\nexport async function getJsonAttachment( pdfData, attachmentName ) {\n\ttry {\n\t\tconst pdfDoc = await PDFDocument.load( pdfData, {\n\t\t\tupdateMetadata: false,\n\t\t} );\n\n\t\tif ( ! pdfDoc.catalog.has( PDFName.of( 'Names' ) ) ) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\tconst Names = pdfDoc.catalog.lookup( PDFName.of( 'Names' ), PDFDict );\n\t\tif ( ! Names.has( PDFName.of( 'EmbeddedFiles' ) ) ) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\tconst EmbeddedFiles = Names.lookup( PDFName.of( 'EmbeddedFiles' ), PDFDict );\n\t\tif ( ! EmbeddedFiles.has( PDFName.of( 'Names' ) ) ) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\tconst EFNames = EmbeddedFiles.lookup( PDFName.of( 'Names' ), PDFArray );\n\t\tfor ( let idx = 0, len = EFNames.size(); idx < len; idx += 2 ) {\n\t\t\tconst fileName = EFNames.lookup( idx ).decodeText();\n\t\t\tif ( fileName !== attachmentName ) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tconst fileSpec = EFNames.lookup( idx + 1, PDFDict );\n\t\t\tconst stream = fileSpec\n\t\t\t\t.lookup( PDFName.of( 'EF' ), PDFDict )\n\t\t\t\t.lookup( PDFName.of( 'F' ), PDFStream );\n\t\t\tconst data = decodePDFRawStream( stream ).decode();\n\t\t\treturn JSON.parse( new TextDecoder( 'utf-8' ).decode( data ) );\n\t\t}\n\t} catch ( exception ) {\n\t\treturn undefined;\n\t}\n\n\treturn undefined;\n}\n","function generateFontDefinition( font ) {\n\tconst fontPath = `/fonts/${font}/${font}`;\n\treturn {\n\t\t[ font ]: {\n\t\t\tfamily: font,\n\t\t\tfonts: [\n\t\t\t\t{ src: `${fontPath}-Regular.ttf` },\n\t\t\t\t{ src: `${fontPath}-Italic.ttf`, fontStyle: 'italic' },\n\t\t\t\t{ src: `${fontPath}-Bold.ttf`, fontWeight: 700 },\n\t\t\t\t{\n\t\t\t\t\tsrc: `${fontPath}-BoldItalic.ttf`,\n\t\t\t\t\tfontStyle: 'italic',\n\t\t\t\t\tfontWeight: 700,\n\t\t\t\t},\n\t\t\t],\n\t\t},\n\t};\n}\n\nconst ARIMO = 'Arimo';\nexport const LATO = 'Lato';\nconst MONTSERRAT = 'Montserrat';\nconst SOURCE_SERIF_PRO = 'SourceSerifPro';\nexport const AVAILABLE_FONTS = [ ARIMO, LATO, MONTSERRAT, SOURCE_SERIF_PRO ];\n\nconst FONT_DEFINITIONS = {\n\t...generateFontDefinition( ARIMO ),\n\t...generateFontDefinition( LATO ),\n\t...generateFontDefinition( MONTSERRAT ),\n\t...generateFontDefinition( SOURCE_SERIF_PRO ),\n};\n\nexport function getFontDefinition( font ) {\n\treturn FONT_DEFINITIONS[ font ] || FONT_DEFINITIONS[ LATO ];\n}\n","import dayjs from 'dayjs';\nimport { t } from 'i18next';\n\nimport {\n    ITINERARY_ITEM,\n    ITINERARY_LINES,\n    ITINERARY_HEADING,\n    ITINERARY_CHECKBOXES,\n} from 'configuration-form/itinerary';\nimport { LATO } from 'pdf/lib/fonts';\n\nconst CONFIG_FIELDS = [\n    'fontFamily',\n    'year',\n    'month',\n    'firstDayOfWeek',\n    'monthCount',\n    'weekendDays',\n    'isLeftHanded',\n    'alwaysOnSidebar',\n    'isMonthOverviewEnabled',\n    'habits',\n    'monthItinerary',\n    'isWeekOverviewEnabled',\n    'todos',\n    'dayItineraries',\n    'isWeekRetrospectiveEnabled',\n    'weekRetrospectiveItinerary',\n    'specialDates',\n];\n\nexport const CONFIG_FILE = 'config.json';\nexport const CONFIG_VERSION_1 = 'v1';\nexport const CONFIG_VERSION_2 = 'v2';\nexport const CONFIG_CURRENT_VERSION = CONFIG_VERSION_2;\n\nexport function hydrateFromObject(object) {\n    return CONFIG_FIELDS.reduce(\n        (fields, field) => ({\n            ...fields,\n            [field]: object[field],\n        }),\n        {}\n    );\n}\n\nclass PdfConfig {\n    constructor() {\n        this.year = dayjs().year();\n        this.month = 0;\n        this.firstDayOfWeek = dayjs.localeData().firstDayOfWeek();\n        this.weekendDays = [0, 6];\n        this.isLeftHanded = false;\n        this.alwaysOnSidebar = false;\n        this.monthCount = 12;\n        this.fontFamily = LATO;\n        this.isMonthOverviewEnabled = true;\n        this.habits = [\n            t('habits.example1', { ns: 'config' }),\n            t('habits.example2', { ns: 'config' }),\n            t('habits.example3', { ns: 'config' }),\n            t('habits.example4', { ns: 'config' }),\n        ];\n        this.monthItinerary = [\n            {\n                type: ITINERARY_ITEM,\n                value: t('month.goal', { ns: 'config' }),\n            },\n            {\n                type: ITINERARY_LINES,\n                value: 2,\n            },\n            {\n                type: ITINERARY_ITEM,\n                value: t('month.notes', { ns: 'config' }),\n            },\n            {\n                type: ITINERARY_LINES,\n                value: 23,\n            },\n        ];\n        this.isWeekOverviewEnabled = true;\n        this.todos = [\n            t('todos.example1', { ns: 'config' }),\n            t('todos.example2', { ns: 'config' }),\n        ];\n\n        let dayOfWeek = this.firstDayOfWeek;\n        this.dayItineraries = [...Array(7).keys()].map(() => {\n            const itinerary = {\n                dayOfWeek,\n                items: [{ type: ITINERARY_LINES, value: 23 }],\n                isEnabled: true,\n            };\n            dayOfWeek = ++dayOfWeek % 7;\n            return itinerary;\n        });\n        this.isWeekRetrospectiveEnabled = true;\n        this.weekRetrospectiveItinerary = [\n            {\n                type: ITINERARY_LINES,\n                value: 23,\n            },\n        ];\n        this.pageSize = ['157mm', '209mm'];\n        this.specialDates = {\n            '01-01': [\n                t('special-dates.example1', { ns: 'config' }),\n                t('special-dates.example2', { ns: 'config' }),\n            ],\n            '03-01': [t('special-dates.example3', { ns: 'config' })],\n            '13-01': [\n                t('special-dates.example4', { ns: 'config' }),\n                t('special-dates.example5', { ns: 'config' }),\n            ],\n            '14-01': [t('special-dates.example6', { ns: 'config' })],\n        };\n    }\n}\n\nexport default PdfConfig;\n","import PdfConfig, {\n\tCONFIG_VERSION_1,\n\tCONFIG_CURRENT_VERSION,\n} from 'pdf/config';\n\nexport function convertConfigToCurrentVersion( config ) {\n\tconst configWithDefaults = Object.assign( new PdfConfig(), config );\n\n\tswitch ( configWithDefaults.version ) {\n\t\tcase CONFIG_VERSION_1:\n\t\t\treturn convertFromVersion1( configWithDefaults );\n\n\t\tcase CONFIG_CURRENT_VERSION:\n\t\tdefault:\n\t\t\treturn configWithDefaults;\n\t}\n}\n\nfunction convertFromVersion1( config ) {\n\tconfig.dayItineraries = config.dayItineraries.map( ( dayItinerary ) =>\n\t\tObject.assign( { isEnabled: true }, dayItinerary ),\n\t);\n\treturn config;\n}\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport Alert from 'react-bootstrap/Alert';\nimport Button from 'react-bootstrap/Button';\nimport ButtonGroup from 'react-bootstrap/ButtonGroup';\nimport Form from 'react-bootstrap/Form';\nimport OverlayTrigger from 'react-bootstrap/OverlayTrigger';\nimport Stack from 'react-bootstrap/Stack';\nimport Tooltip from 'react-bootstrap/Tooltip';\nimport { withTranslation } from 'react-i18next';\n\nimport {\n    ITINERARY_ITEM,\n    ITINERARY_HEADING,\n    ITINERARY_CHECKBOXES,\n    ITINERARY_LINES,\n    ITINERARY_NEW_PAGE,\n} from 'configuration-form/itinerary';\nimport { getJsonAttachment } from 'lib/attachments';\nimport { convertConfigToCurrentVersion } from 'lib/config-compat';\nimport PdfConfig, { CONFIG_FILE } from 'pdf/config';\n\nconst STATUS_EMPTY = 'EMPTY';\nconst STATUS_LOADING = 'LOADING';\nconst STATUS_ERROR = 'ERROR';\nconst STATUS_SUCCESS = 'SUCCESS';\n\nconst TEMPLATE_BASIC = 'basic';\nconst TEMPLATE_ADVANCED = 'advanced';\nconst TEMPLATE_BLANK = 'blank';\nconst TEMPLATE_MINIMALISTIC = 'minimalistic';\n\nclass ConfigurationSelector extends React.Component {\n\tstate = {\n\t\tstatus: STATUS_EMPTY,\n\t};\n\n\thandleTemplateSelect = ( event ) => {\n\t\tconst { t } = this.props;\n\t\tconst config = new PdfConfig();\n\t\tlet dayOfWeek = config.firstDayOfWeek;\n\n\t\tswitch ( event.target.dataset.template ) {\n\t\t\tcase TEMPLATE_BASIC:\n\t\t\t\t// The default config\n\t\t\t\tbreak;\n\n\t\t\tcase TEMPLATE_ADVANCED:\n\t\t\t\tconfig.dayItineraries = [ ...Array( 7 ).keys() ].map( () => {\n\t\t\t\t\tconst itinerary = {\n\t\t\t\t\t\tdayOfWeek,\n\t\t\t\t\t\titems: this.generateAdvancedDayItems( dayOfWeek ),\n\t\t\t\t\t\tisEnabled: true,\n\t\t\t\t\t};\n\t\t\t\t\tdayOfWeek = ++dayOfWeek % 7;\n\t\t\t\t\treturn itinerary;\n\t\t\t\t} );\n\t\t\t\tconfig.weekRetrospectiveItinerary = [\n\t\t\t\t\t{\n\t\t\t\t\t\ttype: ITINERARY_ITEM,\n\t\t\t\t\t\tvalue: t( 'templates.advanced.retrospective.wins', {\n\t\t\t\t\t\t\tns: 'config',\n\t\t\t\t\t\t} ),\n\t\t\t\t\t},\n\t\t\t\t\t{ type: ITINERARY_LINES, value: 7 },\n\t\t\t\t\t{\n\t\t\t\t\t\ttype: ITINERARY_ITEM,\n\t\t\t\t\t\tvalue: t( 'templates.advanced.retrospective.discoveries', {\n\t\t\t\t\t\t\tns: 'config',\n\t\t\t\t\t\t} ),\n\t\t\t\t\t},\n\t\t\t\t\t{ type: ITINERARY_LINES, value: 7 },\n\t\t\t\t\t{\n\t\t\t\t\t\ttype: ITINERARY_ITEM,\n\t\t\t\t\t\tvalue: t( 'templates.advanced.retrospective.fails', {\n\t\t\t\t\t\t\tns: 'config',\n\t\t\t\t\t\t} ),\n\t\t\t\t\t},\n\t\t\t\t\t{ type: ITINERARY_LINES, value: 15 },\n\t\t\t\t];\n\t\t\t\tbreak;\n\n\t\t\tcase TEMPLATE_BLANK:\n\t\t\t\tconfig.specialDates = {};\n\t\t\t\tconfig.habits = [];\n\t\t\t\tconfig.monthItinerary = [];\n\t\t\t\tconfig.todos = [];\n\t\t\t\tconfig.dayItineraries = [ ...Array( 7 ).keys() ].map( () => {\n\t\t\t\t\tconst itinerary = {\n\t\t\t\t\t\tdayOfWeek,\n\t\t\t\t\t\titems: [],\n\t\t\t\t\t\tisEnabled: true,\n\t\t\t\t\t};\n\t\t\t\t\tdayOfWeek = ++dayOfWeek % 7;\n\t\t\t\t\treturn itinerary;\n\t\t\t\t} );\n\t\t\t\tconfig.weekRetrospectiveItinerary = [];\n\t\t\t\tbreak;\n\n\t\t\tcase TEMPLATE_MINIMALISTIC:\n\t\t\t\tconfig.specialDates = {};\n\t\t\t\tconfig.habits = [];\n\t\t\t\tconfig.isMonthOverviewEnabled = false;\n\t\t\t\tconfig.monthItinerary = [];\n\t\t\t\tconfig.isWeekOverviewEnabled = true;\n\t\t\t\tconfig.todos = [];\n\t\t\t\tconfig.dayItineraries = [ ...Array( 7 ).keys() ].map( () => {\n\t\t\t\t\tconst itinerary = {\n\t\t\t\t\t\tdayOfWeek,\n\t\t\t\t\t\titems: [],\n\t\t\t\t\t\tisEnabled: false,\n\t\t\t\t\t};\n\t\t\t\t\tdayOfWeek = ++dayOfWeek % 7;\n\t\t\t\t\treturn itinerary;\n\t\t\t\t} );\n\t\t\t\tconfig.isWeekRetrospectiveEnabled = false;\n\t\t\t\tconfig.weekRetrospectiveItinerary = [];\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\treturn;\n\t\t}\n\n\t\tthis.props.onConfigChange( config );\n\t};\n\n\tgenerateAdvancedDayItems( dayOfWeek ) {\n\t\tconst items = [];\n\t\tfor ( let i = 8; i <= 20; i += 2 ) {\n\t\t\titems.push( {\n\t\t\t\ttype: ITINERARY_ITEM,\n\t\t\t\tvalue: i.toString().padStart( 2, 0 ) + ':00',\n\t\t\t} );\n\t\t\titems.push( { type: ITINERARY_LINES, value: 2 } );\n\t\t}\n\n\t\titems.push( { type: ITINERARY_LINES, value: 20 } );\n\n\t\tif ( dayOfWeek === 1 ) {\n\t\t\titems.push( { type: ITINERARY_NEW_PAGE, value: '' } );\n\t\t\titems.push( {\n\t\t\t\ttype: ITINERARY_ITEM,\n\t\t\t\tvalue: this.props.t( 'templates.advanced.day.monday', { ns: 'config' } ),\n\t\t\t} );\n\t\t\titems.push( { type: ITINERARY_LINES, value: 50 } );\n\t\t}\n\n\t\treturn items;\n\t}\n\n\thandleFileChange = ( event ) => {\n\t\tthis.setState( {\n\t\t\tstatus: STATUS_LOADING,\n\t\t} );\n\n\t\tconst file = event.target.files[ 0 ];\n\t\tconst reader = new FileReader();\n\t\treader.onload = this.handleFileLoad;\n\n\t\treader.readAsArrayBuffer( file );\n\t};\n\n\thandleFileLoad = async ( event ) => {\n\t\tconst attachment = await getJsonAttachment(\n\t\t\tevent.target.result,\n\t\t\tCONFIG_FILE,\n\t\t);\n\n\t\tif ( ! attachment ) {\n\t\t\tthis.setState( {\n\t\t\t\tstatus: STATUS_ERROR,\n\t\t\t} );\n\t\t\treturn;\n\t\t}\n\n\t\tthis.setState( {\n\t\t\tstatus: STATUS_SUCCESS,\n\t\t} );\n\n\t\tthis.props.onConfigChange( convertConfigToCurrentVersion( attachment ) );\n\t};\n\n\trenderStatusMessage() {\n\t\tconst { t } = this.props;\n\n\t\tswitch ( this.state.status ) {\n\t\t\tcase STATUS_LOADING:\n\t\t\t\treturn (\n\t\t\t\t\t<Alert variant=\"info\" className=\"mt-2 mb-0\">\n\t\t\t\t\t\t{t( 'configuration.selector.upload.loading' )}\n\t\t\t\t\t</Alert>\n\t\t\t\t);\n\n\t\t\tcase STATUS_ERROR:\n\t\t\t\treturn (\n\t\t\t\t\t<Alert variant=\"danger\" className=\"mt-2 mb-0\">\n\t\t\t\t\t\t{t( 'configuration.selector.upload.error' )}\n\t\t\t\t\t</Alert>\n\t\t\t\t);\n\n\t\t\tcase STATUS_SUCCESS:\n\t\t\t\treturn (\n\t\t\t\t\t<Alert variant=\"success\" className=\"mt-2 mb-0\">\n\t\t\t\t\t\t{t( 'configuration.selector.upload.success' )}\n\t\t\t\t\t</Alert>\n\t\t\t\t);\n\n\t\t\tcase STATUS_EMPTY:\n\t\t\tdefault:\n\t\t\t\treturn null;\n\t\t}\n\t}\n\n\trenderButton = ( { template, style } ) => {\n\t\tconst { t } = this.props;\n\t\treturn (\n\t\t\t<OverlayTrigger\n\t\t\t\tkey={ template }\n\t\t\t\tplacement=\"bottom\"\n\t\t\t\toverlay={\n\t\t\t\t\t<Tooltip>\n\t\t\t\t\t\t{t( `configuration.selector.template.${template}.description` )}\n\t\t\t\t\t</Tooltip>\n\t\t\t\t}\n\t\t\t>\n\t\t\t\t<Button\n\t\t\t\t\tvariant={ style }\n\t\t\t\t\tdata-template={ template }\n\t\t\t\t\tonClick={ this.handleTemplateSelect }\n\t\t\t\t>\n\t\t\t\t\t{t( `configuration.selector.template.${template}.label` )}\n\t\t\t\t</Button>\n\t\t\t</OverlayTrigger>\n\t\t);\n\t};\n\n\trender() {\n\t\tconst { t } = this.props;\n\t\treturn (\n\t\t\t<Stack>\n\t\t\t\t<Form.Label>{t( 'configuration.selector.template.label' )}</Form.Label>\n\t\t\t\t<ButtonGroup aria-label=\"Config templates\">\n\t\t\t\t\t{[\n\t\t\t\t\t\t{ template: TEMPLATE_BASIC, style: 'info' },\n\t\t\t\t\t\t{ template: TEMPLATE_ADVANCED, style: 'primary' },\n\t\t\t\t\t\t{ template: TEMPLATE_BLANK, style: 'blank' },\n\t\t\t\t\t\t{ template: TEMPLATE_MINIMALISTIC, style: 'dark' },\n\t\t\t\t\t].map( this.renderButton )}\n\t\t\t\t</ButtonGroup>\n\t\t\t\t<Form.Group controlId=\"configurationFile\" className=\"mt-3\">\n\t\t\t\t\t<Form.Label>{t( 'configuration.selector.upload.label' )}</Form.Label>\n\t\t\t\t\t<Form.Control\n\t\t\t\t\t\ttype=\"file\"\n\t\t\t\t\t\taccept=\".pdf\"\n\t\t\t\t\t\tonChange={ this.handleFileChange }\n\t\t\t\t\t/>\n\t\t\t\t\t{this.renderStatusMessage()}\n\t\t\t\t</Form.Group>\n\t\t\t</Stack>\n\t\t);\n\t}\n}\n\nConfigurationSelector.propTypes = {\n\tonConfigChange: PropTypes.func.isRequired,\n\tt: PropTypes.func.isRequired,\n};\n\nexport default withTranslation( [ 'app', 'config' ] )( ConfigurationSelector );\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport Accordion from 'react-bootstrap/Accordion';\nimport Alert from 'react-bootstrap/Alert';\nimport Button from 'react-bootstrap/Button';\nimport FormControl from 'react-bootstrap/FormControl';\nimport InputGroup from 'react-bootstrap/InputGroup';\nimport Stack from 'react-bootstrap/Stack';\nimport { withTranslation } from 'react-i18next';\n\nclass ItemsList extends React.Component {\n\trenderItem = ( item, index ) => {\n\t\tconst { field, onChange, t } = this.props;\n\t\treturn (\n\t\t\t<InputGroup key={ index }>\n\t\t\t\t<FormControl\n\t\t\t\t\tplaceholder={ t( 'configuration.items-list.placeholder' ) }\n\t\t\t\t\tvalue={ item }\n\t\t\t\t\tonChange={ onChange }\n\t\t\t\t\tdata-index={ index }\n\t\t\t\t\tdata-field={ field }\n\t\t\t\t\trequired\n\t\t\t\t/>\n\t\t\t\t{this.renderRemoveButton( index )}\n\t\t\t</InputGroup>\n\t\t);\n\t};\n\n\trenderRemoveButton( index ) {\n\t\tconst { field, onRemove, t } = this.props;\n\t\treturn (\n\t\t\t<Button\n\t\t\t\tvariant=\"outline-danger\"\n\t\t\t\tonClick={ onRemove }\n\t\t\t\tdata-index={ index }\n\t\t\t\tdata-field={ field }\n\t\t\t>\n\t\t\t\t{t( 'configuration.items-list.button.remove' )}\n\t\t\t</Button>\n\t\t);\n\t}\n\n\trender() {\n\t\tconst { items, field, onAdd, t, title } = this.props;\n\t\treturn (\n\t\t\t<Accordion.Item eventKey={ field }>\n\t\t\t\t<Accordion.Header>{title}</Accordion.Header>\n\t\t\t\t<Accordion.Body>\n\t\t\t\t\t<Stack gap={ 2 }>\n\t\t\t\t\t\t{items.map( this.renderItem )}\n\t\t\t\t\t\t{items.length === 0 && (\n\t\t\t\t\t\t\t<Alert variant=\"secondary\" className=\"mb-0\">\n\t\t\t\t\t\t\t\t{t( 'configuration.items-list.empty' )}\n\t\t\t\t\t\t\t</Alert>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Stack>\n\t\t\t\t\t<Stack direction=\"horizontal\" className=\"mt-3\">\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tvariant=\"outline-secondary\"\n\t\t\t\t\t\t\tonClick={ onAdd }\n\t\t\t\t\t\t\tdata-field={ field }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{t( 'configuration.items-list.button.item' )}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</Stack>\n\t\t\t\t</Accordion.Body>\n\t\t\t</Accordion.Item>\n\t\t);\n\t}\n}\n\nItemsList.propTypes = {\n\tfield: PropTypes.string.isRequired,\n\titems: PropTypes.array.isRequired,\n\tonAdd: PropTypes.func.isRequired,\n\tonChange: PropTypes.func.isRequired,\n\tonRemove: PropTypes.func.isRequired,\n\tt: PropTypes.func.isRequired,\n\ttitle: PropTypes.string.isRequired,\n};\n\nexport default withTranslation( 'app' )( ItemsList );\n","import dayjs from 'dayjs';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport Accordion from 'react-bootstrap/Accordion';\nimport Alert from 'react-bootstrap/Alert';\nimport Badge from 'react-bootstrap/Badge';\nimport Button from 'react-bootstrap/Button';\nimport FormControl from 'react-bootstrap/FormControl';\nimport InputGroup from 'react-bootstrap/InputGroup';\nimport ListGroup from 'react-bootstrap/ListGroup';\nimport Stack from 'react-bootstrap/Stack';\nimport { withTranslation } from 'react-i18next';\n\nconst DATE_FORMAT = 'DD-MM';\n\nclass SpecialDates extends React.Component {\n\tstate = {\n\t\tdate: '',\n\t\tvalue: '',\n\t};\n\n\tonChange = ( event ) => {\n\t\tconst { field } = event.target.dataset;\n\t\tthis.setState( { [ field ]: event.target.value } );\n\t};\n\n\tonAddClick = ( event ) => {\n\t\tconst date = dayjs( this.state.date, 'YYYY-MM-DD' );\n\t\tconst key = date.format( DATE_FORMAT );\n\t\tthis.props.onAdd( key, this.state.value );\n\t\tthis.setState( { date: '', value: '' } );\n\t};\n\n\trenderItem = ( key ) => {\n\t\tconst values = this.props.items[ key ];\n\t\tconst date = dayjs( key, DATE_FORMAT );\n\t\treturn (\n\t\t\t<ListGroup.Item key={ key }>\n\t\t\t\t<Stack direction=\"horizontal\" gap={ 3 }>\n\t\t\t\t\t<b className=\"special-date\">{date.format( 'MMMM DD' )}</b>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t{values.map( ( value, index ) => (\n\t\t\t\t\t\t\t<div key={ key + index }>{value}</div>\n\t\t\t\t\t\t) )}\n\t\t\t\t\t</div>\n\t\t\t\t\t{this.renderRemoveButton( key )}\n\t\t\t\t</Stack>\n\t\t\t</ListGroup.Item>\n\t\t);\n\t};\n\n\trenderItems( items ) {\n\t\treturn <ListGroup>{items.map( this.renderItem )}</ListGroup>;\n\t}\n\n\trenderRemoveButton( key ) {\n\t\tconst { onRemove, t } = this.props;\n\t\treturn (\n\t\t\t<Button\n\t\t\t\tclassName=\"ms-auto\"\n\t\t\t\tvariant=\"outline-danger\"\n\t\t\t\tonClick={ onRemove }\n\t\t\t\tdata-key={ key }\n\t\t\t>\n\t\t\t\t{t( 'configuration.special-dates.button.remove' )}\n\t\t\t</Button>\n\t\t);\n\t}\n\n\trender() {\n\t\tconst { date, value } = this.state;\n\t\tconst { items, t } = this.props;\n\t\tconst keys = Object.keys( items );\n\t\treturn (\n\t\t\t<Accordion.Item eventKey=\"specialDates\">\n\t\t\t\t<Accordion.Header>\n\t\t\t\t\t<Stack direction=\"horizontal\" className=\"w-100\">\n\t\t\t\t\t\t{t( 'configuration.special-dates.title' )}\n\t\t\t\t\t\t<Badge bg=\"info\" className=\"ms-auto me-3\">\n\t\t\t\t\t\t\t{keys.length}\n\t\t\t\t\t\t</Badge>\n\t\t\t\t\t</Stack>\n\t\t\t\t</Accordion.Header>\n\t\t\t\t<Accordion.Body>\n\t\t\t\t\t<p>{t( 'configuration.special-dates.description' )}</p>\n\t\t\t\t\t<Stack gap={ 2 }>\n\t\t\t\t\t\t{keys ? (\n\t\t\t\t\t\t\tthis.renderItems( keys )\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<Alert variant=\"secondary\" className=\"mb-0\">\n\t\t\t\t\t\t\t\t{t( 'configuration.special-dates.empty' )}\n\t\t\t\t\t\t\t</Alert>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Stack>\n\t\t\t\t\t<Stack direction=\"horizontal\" className=\"mt-3\">\n\t\t\t\t\t\t<InputGroup>\n\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\tclassName=\"flex-grow-0 date-field\"\n\t\t\t\t\t\t\t\tvalue={ date }\n\t\t\t\t\t\t\t\tonChange={ this.onChange }\n\t\t\t\t\t\t\t\ttype=\"date\"\n\t\t\t\t\t\t\t\tdata-field=\"date\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\tplaceholder={ t( 'configuration.special-dates.placeholder' ) }\n\t\t\t\t\t\t\t\tvalue={ value }\n\t\t\t\t\t\t\t\tonChange={ this.onChange }\n\t\t\t\t\t\t\t\tdata-field=\"value\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tvariant=\"outline-secondary\"\n\t\t\t\t\t\t\t\tdisabled={ ! date || ! value }\n\t\t\t\t\t\t\t\tonClick={ this.onAddClick }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{t( 'configuration.special-dates.button.item' )}\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</InputGroup>\n\t\t\t\t\t</Stack>\n\t\t\t\t</Accordion.Body>\n\t\t\t</Accordion.Item>\n\t\t);\n\t}\n}\n\nSpecialDates.propTypes = {\n\titems: PropTypes.object.isRequired,\n\tonAdd: PropTypes.func.isRequired,\n\tonRemove: PropTypes.func.isRequired,\n\tt: PropTypes.func.isRequired,\n};\n\nexport default withTranslation( 'app' )( SpecialDates );\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport Accordion from 'react-bootstrap/Accordion';\nimport Badge from 'react-bootstrap/Badge';\nimport Stack from 'react-bootstrap/Stack';\nimport ToggleButton from 'react-bootstrap/ToggleButton';\nimport { withTranslation } from 'react-i18next';\n\nfunction ToggleAccordionItem( { children, id, onToggle, t, title, toggledOn } ) {\n\tconst label = toggledOn\n\t\t? t( 'configuration.toggle-form.enabled' )\n\t\t: t( 'configuration.toggle-form.disabled' );\n\treturn (\n\t\t<Accordion.Item eventKey={ id }>\n\t\t\t<Accordion.Header>\n\t\t\t\t<Stack direction=\"horizontal\" className=\"w-100\">\n\t\t\t\t\t{title}\n\t\t\t\t\t<Badge\n\t\t\t\t\t\tbg={ toggledOn ? 'success' : 'secondary' }\n\t\t\t\t\t\tclassName=\"ms-auto me-3\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{label}\n\t\t\t\t\t</Badge>\n\t\t\t\t</Stack>\n\t\t\t</Accordion.Header>\n\t\t\t<Accordion.Body>\n\t\t\t\t<Stack>\n\t\t\t\t\t<ToggleButton\n\t\t\t\t\t\tclassName=\"mb-1\"\n\t\t\t\t\t\tid={ id }\n\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\tvariant={ toggledOn ? 'outline-success' : 'outline-secondary' }\n\t\t\t\t\t\tchecked={ toggledOn }\n\t\t\t\t\t\tonChange={ onToggle }\n\t\t\t\t\t>\n\t\t\t\t\t\t{label}\n\t\t\t\t\t</ToggleButton>\n\t\t\t\t\t{children}\n\t\t\t\t</Stack>\n\t\t\t</Accordion.Body>\n\t\t</Accordion.Item>\n\t);\n}\n\nToggleAccordionItem.propTypes = {\n\tchildren: PropTypes.node.isRequired,\n\tid: PropTypes.string.isRequired,\n\tonToggle: PropTypes.func.isRequired,\n\ttitle: PropTypes.string.isRequired,\n\tt: PropTypes.func.isRequired,\n\ttoggledOn: PropTypes.bool.isRequired,\n};\n\nexport default withTranslation( 'app' )( ToggleAccordionItem );\n","import dayjs from 'dayjs';\n\nexport function getWeekdays() {\n\tconst weekdaysFull = dayjs.weekdays();\n\tconst weekdaysMin = dayjs.weekdaysMin();\n\tconst weekdaysShort = dayjs.weekdaysShort();\n\n\tconst firstDayOfWeek = dayjs.localeData().firstDayOfWeek();\n\tconst weekdays = [ ...Array( 7 ).keys() ];\n\tconst weekdaysReordered = [\n\t\t...weekdays.slice( firstDayOfWeek ),\n\t\t...weekdays.slice( 0, firstDayOfWeek ),\n\t];\n\n\treturn weekdaysReordered.map( ( indexOfDay ) => ( {\n\t\tfull: weekdaysFull[ indexOfDay ],\n\t\tshort: weekdaysShort[ indexOfDay ],\n\t\tmin: weekdaysMin[ indexOfDay ],\n\t\tindex: indexOfDay,\n\t} ) );\n}\n\nexport function getWeekendDays( weekendDayIndexes ) {\n\tconst weekendDays = [];\n\tgetWeekdays().forEach( ( { index } ) => {\n\t\tif ( weekendDayIndexes.includes( index ) ) {\n\t\t\tweekendDays.push( index );\n\t\t}\n\t} );\n\n\treturn weekendDays;\n}\n\nexport function getWeekNumber( day ) {\n\t// As per ISO week specification, we need to check Thursday\n\t// on a given week to figure out the accurate week number.\n\t// https://en.wikipedia.org/wiki/ISO_week_date\n\treturn day.day( 4 ).isoWeek();\n}\n","import dayjs from 'dayjs';\nimport { saveAs } from 'file-saver';\nimport i18n from 'i18next';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport Accordion from 'react-bootstrap/Accordion';\nimport Button from 'react-bootstrap/Button';\nimport Card from 'react-bootstrap/Card';\nimport Col from 'react-bootstrap/Col';\nimport Container from 'react-bootstrap/Container';\nimport Form from 'react-bootstrap/Form';\nimport ListGroup from 'react-bootstrap/ListGroup';\nimport Row from 'react-bootstrap/Row';\nimport Spinner from 'react-bootstrap/Spinner';\nimport Stack from 'react-bootstrap/Stack';\nimport { withTranslation } from 'react-i18next';\n\nimport PdfWorker from './worker/pdf.worker.js'; // eslint-disable-line import/default\n\nimport PdfPreviewCard from 'components/pdf-preview-card';\nimport PdfProgress from 'components/pdf-progress';\nimport ConfigurationSelector from 'configuration-form/configuration-selector';\nimport ItemsList from 'configuration-form/items-list';\nimport Itinerary from 'configuration-form/itinerary';\nimport SpecialDates from 'configuration-form/special-dates';\nimport ToggleAccordionItem from 'configuration-form/toggle-accordion-item';\nimport { getWeekdays } from 'lib/date';\nimport PdfConfig, { hydrateFromObject } from 'pdf/config';\nimport { AVAILABLE_FONTS } from 'pdf/lib/fonts';\n\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './app.css';\n\nconst DAY_ITINERARY_ID_PREFIX = 'day-itinerary-';\n\nclass Configuration extends React.PureComponent {\n\tstate = {\n\t\tisGeneratingPdf: false,\n\t\tisGeneratingPreview: false,\n\t\tblobUrl: null,\n\t\tlastPreviewTime: 10000,\n\t\tlastFullTime: null,\n\t\t...hydrateFromObject( this.props.initialState ),\n\t};\n\n\tconstructor( props ) {\n\t\tsuper( props );\n\n\t\tthis.pdfWorker = new PdfWorker();\n\t\tthis.pdfWorker.onmessage = this.handlePdfWorkerMessage;\n\t}\n\n\tcomponentDidUpdate( prevProps, prevState ) {\n\t\tif ( prevState.blobUrl && prevState.blobUrl !== this.state.blobUrl ) {\n\t\t\t// Each refresh generates a new blob - and it will be kept in the memory\n\t\t\t// until the window is refreshed/unloaded. To keep memory consumption low\n\t\t\t// lets explicitly release the stale blob.\n\t\t\t// See https://developer.mozilla.org/en-US/docs/Web/API/URL/revokeObjectURL\n\t\t\tURL.revokeObjectURL( prevState.blobUrl );\n\t\t}\n\t}\n\n\thandleConfigChange = ( newConfig ) => {\n\t\tthis.setState( { ...hydrateFromObject( newConfig ) } );\n\t};\n\n\thandleFieldChange = ( event ) => {\n\t\tconst value =\n\t\t\tevent.target.type !== 'checkbox'\n\t\t\t\t? event.target.value\n\t\t\t\t: event.target.checked;\n\t\tthis.setState( { [ event.target.id ]: value } );\n\t\tif ( event.target.id === 'firstDayOfWeek' ) {\n\t\t\tconst newFirstDayOfWeek = Number( event.target.value );\n\t\t\tdayjs.updateLocale( i18n.language, {\n\t\t\t\tweekStart: newFirstDayOfWeek,\n\t\t\t} );\n\n\t\t\tconst newFirstDayOfWeekIndex = this.state.dayItineraries.findIndex(\n\t\t\t\tthis.isDayOfWeek( newFirstDayOfWeek ),\n\t\t\t);\n\t\t\tif ( newFirstDayOfWeekIndex === -1 ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst dayItinerariesReordered = [\n\t\t\t\t...this.state.dayItineraries.slice( newFirstDayOfWeekIndex ),\n\t\t\t\t...this.state.dayItineraries.slice( 0, newFirstDayOfWeekIndex ),\n\t\t\t];\n\n\t\t\tthis.setState( { dayItineraries: dayItinerariesReordered } );\n\t\t}\n\t};\n\n\tisDayOfWeek = ( dayOfWeek ) => {\n\t\treturn ( item ) => item.dayOfWeek === dayOfWeek;\n\t};\n\n\thandleToggle = ( event ) => {\n\t\tthis.setState( { [ event.target.id ]: event.target.checked } );\n\t};\n\n\thandleDayItineraryToggle = ( event ) => {\n\t\tconst id = Number( event.target.id.replace( DAY_ITINERARY_ID_PREFIX, '' ) );\n\t\tconst newItineraries = [ ...this.state.dayItineraries ];\n\t\tnewItineraries[ id ].isEnabled = event.target.checked;\n\n\t\tthis.setState( { dayItineraries: newItineraries } );\n\t};\n\n\thandleWeekendChange = ( event ) => {\n\t\tconst dayOfWeek = Number( event.target.dataset.index );\n\t\tconst newWeekendDays = [ ...this.state.weekendDays ];\n\t\tconst indexInArray = newWeekendDays.indexOf( dayOfWeek );\n\t\tif ( event.target.checked ) {\n\t\t\tif ( indexInArray === -1 ) {\n\t\t\t\tnewWeekendDays.push( dayOfWeek );\n\t\t\t}\n\t\t} else if ( indexInArray !== -1 ) {\n\t\t\tnewWeekendDays.splice( indexInArray, 1 );\n\t\t}\n\n\t\tthis.setState( { weekendDays: newWeekendDays } );\n\t};\n\n\thandleDownload = ( event ) => {\n\t\tthis.setState( { isGeneratingPdf: true } );\n\t\tthis.generatePdf( false );\n\t};\n\n\thandleItemAdd = ( event ) => {\n\t\tconst field = event.target.dataset.field;\n\t\tconst newItems = [ ...this.state[ field ] ];\n\t\tnewItems.push( '' );\n\t\tthis.setState( { [ field ]: newItems } );\n\t};\n\n\thandleItemChange = ( event ) => {\n\t\tconst field = event.target.dataset.field;\n\t\tconst newItems = [ ...this.state[ field ] ];\n\t\tnewItems[ event.target.dataset.index ] = event.target.value;\n\t\tthis.setState( { [ field ]: newItems } );\n\t};\n\n\thandleItemRemove = ( event ) => {\n\t\tconst field = event.target.dataset.field;\n\t\tconst newItems = [ ...this.state[ field ] ];\n\t\tnewItems.splice( event.target.dataset.index, 1 );\n\t\tthis.setState( { [ field ]: newItems } );\n\t};\n\n\thandleItineraryAdd = ( event ) => {\n\t\tconst field = event.target.dataset.field;\n\t\tconst newItinerary = [ ...this.state[ field ] ];\n\t\tnewItinerary.push( {\n\t\t\ttype: event.target.dataset.type,\n\t\t\tvalue: '',\n\t\t} );\n\t\tthis.setState( { [ field ]: newItinerary } );\n\t};\n\n\thandleItineraryChange = ( event ) => {\n\t\tconst field = event.target.dataset.field;\n\t\tconst newItinerary = [ ...this.state[ field ] ];\n\t\tnewItinerary[ event.target.dataset.index ] = {\n\t\t\ttype: event.target.dataset.type,\n\t\t\tvalue: event.target.value,\n\t\t};\n\t\tthis.setState( { [ field ]: newItinerary } );\n\t};\n\n\thandleItineraryRemove = ( event ) => {\n\t\tconst field = event.target.dataset.field;\n\t\tconst newItineraries = [ ...this.state[ field ] ];\n\t\tnewItineraries.splice( event.target.dataset.index, 1 );\n\t\tthis.setState( { [ field ]: newItineraries } );\n\t};\n\n\thandlePreview = ( event ) => {\n\t\tevent.preventDefault();\n\t\tthis.setState( { isGeneratingPreview: true } );\n\t\tthis.generatePdf( true );\n\t};\n\n\tgeneratePdf( isPreview ) {\n\t\tthis.startTime = new Date();\n\t\tthis.pdfWorker.postMessage( {\n\t\t\tisPreview,\n\t\t\tlanguage: i18n.language,\n\t\t\t...hydrateFromObject( this.state ),\n\t\t} );\n\t}\n\n\thandlePdfWorkerMessage = ( { data: { blob } } ) => {\n\t\tconst shouldTriggerDownload = this.state.isGeneratingPdf;\n\t\tif ( this.state.isGeneratingPreview ) {\n\t\t\tconst previewTime = new Date().getTime() - this.startTime.getTime();\n\t\t\tthis.setState( {\n\t\t\t\tblobUrl: URL.createObjectURL( blob ),\n\t\t\t\tlastPreviewTime: previewTime,\n\t\t\t} );\n\t\t}\n\t\tthis.setState( { isGeneratingPdf: false, isGeneratingPreview: false } );\n\t\tif ( shouldTriggerDownload ) {\n\t\t\tconst fullTime = new Date().getTime() - this.startTime.getTime();\n\t\t\tthis.setState( { lastFullTime: fullTime } );\n\t\t\tsaveAs( blob, 'recalendar.pdf' );\n\t\t}\n\t};\n\n\thandlePdfGeneration = ( { blob, url, loading, error } ) => {\n\t\tconst { t } = this.props;\n\t\treturn loading ? t( 'loading' ) : t( 'download-ready' );\n\t};\n\n\thandleDayItineraryChange = ( event ) => {\n\t\tconst newItineraries = [ ...this.state.dayItineraries ];\n\t\tconst { field, index, type } = event.target.dataset;\n\t\tnewItineraries[ field ].items[ index ] = {\n\t\t\ttype,\n\t\t\tvalue: event.target.value,\n\t\t};\n\t\tthis.setState( { dayItineraries: newItineraries } );\n\t};\n\n\thandleDayItineraryRemove = ( event ) => {\n\t\tconst newItineraries = [ ...this.state.dayItineraries ];\n\t\tconst { field, index } = event.target.dataset;\n\t\tnewItineraries[ field ].items.splice( index, 1 );\n\t\tthis.setState( { dayItineraries: newItineraries } );\n\t};\n\n\thandleDayItineraryCopy = ( event ) => {\n\t\tconst { field } = event.target.dataset;\n\t\tconst itemsToCopy = [ ...this.state.dayItineraries[ field ].items ];\n\t\tconst newItineraries = this.state.dayItineraries.map( ( itinerary ) => ( {\n\t\t\t...itinerary,\n\t\t\titems: [ ...itemsToCopy ],\n\t\t\tisEnabled: this.state.dayItineraries[ field ].isEnabled,\n\t\t} ) );\n\t\tthis.setState( { dayItineraries: newItineraries } );\n\t};\n\n\thandleDayItineraryAdd = ( event ) => {\n\t\tconst newItineraries = [ ...this.state.dayItineraries ];\n\t\tconst { field, type } = event.target.dataset;\n\t\tnewItineraries[ field ].items.push( {\n\t\t\ttype,\n\t\t\tvalue: '',\n\t\t} );\n\t\tthis.setState( { dayItineraries: newItineraries } );\n\t};\n\n\thandleSpecialDateAdd = ( key, value ) => {\n\t\tconst newSpecialDates = Object.assign( {}, this.state.specialDates );\n\t\tif ( ! newSpecialDates[ key ] ) {\n\t\t\tnewSpecialDates[ key ] = [];\n\t\t}\n\n\t\tnewSpecialDates[ key ].push( value );\n\t\tthis.setState( { specialDates: newSpecialDates } );\n\t};\n\n\thandleSpecialDateRemove = ( event ) => {\n\t\tconst key = event.target.dataset.key;\n\t\tconst newSpecialDates = Object.assign( {}, this.state.specialDates );\n\t\tdelete newSpecialDates[ key ];\n\t\tthis.setState( { specialDates: newSpecialDates } );\n\t};\n\n\trenderFonts() {\n\t\treturn AVAILABLE_FONTS.map( ( font ) => (\n\t\t\t<option key={ font } value={ font }>\n\t\t\t\t{font}\n\t\t\t</option>\n\t\t) );\n\t}\n\n\trenderMonths() {\n\t\treturn dayjs\n\t\t\t.localeData()\n\t\t\t.months()\n\t\t\t.map( ( month, index ) => (\n\t\t\t\t<option key={ index } value={ index }>\n\t\t\t\t\t{month}\n\t\t\t\t</option>\n\t\t\t) );\n\t}\n\n\trenderDaysOfWeek() {\n\t\treturn getWeekdays().map( ( { full, index } ) => (\n\t\t\t<option key={ full } value={ index }>\n\t\t\t\t{full}\n\t\t\t</option>\n\t\t) );\n\t}\n\n\trenderWeekendSelection() {\n\t\treturn getWeekdays().map( ( { full, index } ) => (\n\t\t\t<ListGroup.Item key={ full } value={ index }>\n\t\t\t\t<Form.Check\n\t\t\t\t\tid={ 'weekend-' + index }\n\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\tlabel={ full }\n\t\t\t\t\tdata-index={ index }\n\t\t\t\t\tchecked={ this.state.weekendDays.includes( index ) }\n\t\t\t\t\tonChange={ this.handleWeekendChange }\n\t\t\t\t/>\n\t\t\t</ListGroup.Item>\n\t\t) );\n\t}\n\n\trenderDayItinerary = ( { full: dayOfWeek }, index ) => {\n\t\treturn (\n\t\t\t<ToggleAccordionItem\n\t\t\t\tkey={ dayOfWeek }\n\t\t\t\tid={ DAY_ITINERARY_ID_PREFIX + index }\n\t\t\t\ttitle={ dayOfWeek }\n\t\t\t\tonToggle={ this.handleDayItineraryToggle }\n\t\t\t\ttoggledOn={ this.state.dayItineraries[ index ].isEnabled }\n\t\t\t>\n\t\t\t\t<Itinerary\n\t\t\t\t\tfield={ index.toString() }\n\t\t\t\t\titinerary={ this.state.dayItineraries[ index ].items }\n\t\t\t\t\tonAdd={ this.handleDayItineraryAdd }\n\t\t\t\t\tonChange={ this.handleDayItineraryChange }\n\t\t\t\t\tonRemove={ this.handleDayItineraryRemove }\n\t\t\t\t\tonCopy={ this.handleDayItineraryCopy }\n\t\t\t\t/>\n\t\t\t</ToggleAccordionItem>\n\t\t);\n\t};\n\n\trenderConfigurationForm() {\n\t\tconst { t } = this.props;\n\t\tconst { isGeneratingPdf, isGeneratingPreview } = this.state;\n\t\treturn (\n\t\t\t<Form onSubmit={ this.handlePreview }>\n\t\t\t\t<Accordion defaultActiveKey=\"start\" className=\"my-3\">\n\t\t\t\t\t<Accordion.Item eventKey=\"start\">\n\t\t\t\t\t\t<Accordion.Header>\n\t\t\t\t\t\t\t{t( 'configuration.selector.label' )}\n\t\t\t\t\t\t</Accordion.Header>\n\t\t\t\t\t\t<Accordion.Body>\n\t\t\t\t\t\t\t<ConfigurationSelector onConfigChange={ this.handleConfigChange } />\n\t\t\t\t\t\t</Accordion.Body>\n\t\t\t\t\t</Accordion.Item>\n\t\t\t\t\t<Accordion.Item eventKey=\"general\">\n\t\t\t\t\t\t<Accordion.Header>\n\t\t\t\t\t\t\t{t( 'configuration.general.label' )}\n\t\t\t\t\t\t</Accordion.Header>\n\t\t\t\t\t\t<Accordion.Body>\n\t\t\t\t\t\t\t<Form.Group controlId=\"fontFamily\">\n\t\t\t\t\t\t\t\t<Form.Label>{t( 'configuration.general.font' )}</Form.Label>\n\t\t\t\t\t\t\t\t<Form.Select\n\t\t\t\t\t\t\t\t\tvalue={ this.state.fontFamily }\n\t\t\t\t\t\t\t\t\tonChange={ this.handleFieldChange }\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{this.renderFonts()}\n\t\t\t\t\t\t\t\t</Form.Select>\n\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t\t<Form.Group controlId=\"isLeftHanded\" className=\"mt-2\">\n\t\t\t\t\t\t\t\t<Form.Check\n\t\t\t\t\t\t\t\t\tlabel={ t( 'configuration.general.left-handed.label' ) }\n\t\t\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\t\t\tchecked={ this.state.isLeftHanded }\n\t\t\t\t\t\t\t\t\tvalue={ this.state.isLeftHanded }\n\t\t\t\t\t\t\t\t\tonChange={ this.handleFieldChange }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<Form.Text className=\"text-muted\">\n\t\t\t\t\t\t\t\t\t{t( 'configuration.general.left-handed.description' )}\n\t\t\t\t\t\t\t\t</Form.Text>\n\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t\t<Form.Group controlId=\"alwaysOnSidebar\" className=\"mt-2\">\n\t\t\t\t\t\t\t\t<Form.Check\n\t\t\t\t\t\t\t\t\tlabel={ t( 'configuration.general.sidebar.label' ) }\n\t\t\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\t\t\tchecked={ this.state.alwaysOnSidebar }\n\t\t\t\t\t\t\t\t\tvalue={ this.state.alwaysOnSidebar }\n\t\t\t\t\t\t\t\t\tonChange={ this.handleFieldChange }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<Form.Text className=\"text-muted\">\n\t\t\t\t\t\t\t\t\t{t( 'configuration.general.sidebar.description' )}\n\t\t\t\t\t\t\t\t</Form.Text>\n\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t\t<Form.Group controlId=\"year\">\n\t\t\t\t\t\t\t\t<Form.Label>{t( 'configuration.general.year' )}</Form.Label>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\tvalue={ this.state.year }\n\t\t\t\t\t\t\t\t\tonChange={ this.handleFieldChange }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t\t<Form.Group controlId=\"month\">\n\t\t\t\t\t\t\t\t<Form.Label>\n\t\t\t\t\t\t\t\t\t{t( 'configuration.general.starting-month.label' )}\n\t\t\t\t\t\t\t\t</Form.Label>\n\t\t\t\t\t\t\t\t<Form.Select\n\t\t\t\t\t\t\t\t\tvalue={ this.state.month }\n\t\t\t\t\t\t\t\t\tonChange={ this.handleFieldChange }\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{this.renderMonths()}\n\t\t\t\t\t\t\t\t</Form.Select>\n\t\t\t\t\t\t\t\t<Form.Text className=\"text-muted\">\n\t\t\t\t\t\t\t\t\t{t( 'configuration.general.starting-month.description' )}\n\t\t\t\t\t\t\t\t</Form.Text>\n\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t\t<Form.Group controlId=\"firstDayOfWeek\">\n\t\t\t\t\t\t\t\t<Form.Label>\n\t\t\t\t\t\t\t\t\t{t( 'configuration.general.first-day-of-week' )}\n\t\t\t\t\t\t\t\t</Form.Label>\n\t\t\t\t\t\t\t\t<Form.Select\n\t\t\t\t\t\t\t\t\tvalue={ this.state.firstDayOfWeek }\n\t\t\t\t\t\t\t\t\tonChange={ this.handleFieldChange }\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{this.renderDaysOfWeek()}\n\t\t\t\t\t\t\t\t</Form.Select>\n\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t\t<Form.Group controlId=\"monthCount\">\n\t\t\t\t\t\t\t\t<Form.Label>\n\t\t\t\t\t\t\t\t\t{t( 'configuration.general.month-count.label' )}\n\t\t\t\t\t\t\t\t</Form.Label>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\tvalue={ this.state.monthCount }\n\t\t\t\t\t\t\t\t\tonChange={ this.handleFieldChange }\n\t\t\t\t\t\t\t\t\tmin={ 1 }\n\t\t\t\t\t\t\t\t\tmax={ 12 }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<Form.Text className=\"text-muted\">\n\t\t\t\t\t\t\t\t\t{t( 'configuration.general.month-count.description' )}\n\t\t\t\t\t\t\t\t</Form.Text>\n\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t\t<Form.Label>{t( 'configuration.general.weekend' )}</Form.Label>\n\t\t\t\t\t\t\t<ListGroup>{this.renderWeekendSelection()}</ListGroup>\n\t\t\t\t\t\t</Accordion.Body>\n\t\t\t\t\t</Accordion.Item>\n\t\t\t\t\t<SpecialDates\n\t\t\t\t\t\titems={ this.state.specialDates }\n\t\t\t\t\t\tonAdd={ this.handleSpecialDateAdd }\n\t\t\t\t\t\tonRemove={ this.handleSpecialDateRemove }\n\t\t\t\t\t/>\n\t\t\t\t\t<ToggleAccordionItem\n\t\t\t\t\t\tid=\"isMonthOverviewEnabled\"\n\t\t\t\t\t\ttitle={ t( 'configuration.month.title' ) }\n\t\t\t\t\t\tonToggle={ this.handleToggle }\n\t\t\t\t\t\ttoggledOn={ this.state.isMonthOverviewEnabled }\n\t\t\t\t\t>\n\t\t\t\t\t\t<p className=\"mb-0\">{t( 'configuration.month.description' )}</p>\n\t\t\t\t\t\t<Accordion className=\"mt-3\" defaultActiveKey=\"habits\">\n\t\t\t\t\t\t\t<ItemsList\n\t\t\t\t\t\t\t\tfield=\"habits\"\n\t\t\t\t\t\t\t\ttitle={ t( 'configuration.month.habits.title' ) }\n\t\t\t\t\t\t\t\titems={ this.state.habits }\n\t\t\t\t\t\t\t\tonAdd={ this.handleItemAdd }\n\t\t\t\t\t\t\t\tonChange={ this.handleItemChange }\n\t\t\t\t\t\t\t\tonRemove={ this.handleItemRemove }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Accordion.Item eventKey=\"monthItinerary\">\n\t\t\t\t\t\t\t\t<Accordion.Header>\n\t\t\t\t\t\t\t\t\t{t( 'configuration.month.itinerary.title' )}\n\t\t\t\t\t\t\t\t</Accordion.Header>\n\t\t\t\t\t\t\t\t<Accordion.Body>\n\t\t\t\t\t\t\t\t\t<Itinerary\n\t\t\t\t\t\t\t\t\t\tfield=\"monthItinerary\"\n\t\t\t\t\t\t\t\t\t\titinerary={ this.state.monthItinerary }\n\t\t\t\t\t\t\t\t\t\tonAdd={ this.handleItineraryAdd }\n\t\t\t\t\t\t\t\t\t\tonChange={ this.handleItineraryChange }\n\t\t\t\t\t\t\t\t\t\tonRemove={ this.handleItineraryRemove }\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Accordion.Body>\n\t\t\t\t\t\t\t</Accordion.Item>\n\t\t\t\t\t\t</Accordion>\n\t\t\t\t\t</ToggleAccordionItem>\n\t\t\t\t\t<ToggleAccordionItem\n\t\t\t\t\t\tid=\"isWeekOverviewEnabled\"\n\t\t\t\t\t\ttitle={ t( 'configuration.week.title' ) }\n\t\t\t\t\t\tonToggle={ this.handleToggle }\n\t\t\t\t\t\ttoggledOn={ this.state.isWeekOverviewEnabled }\n\t\t\t\t\t>\n\t\t\t\t\t\t<p className=\"mb-0\">{t( 'configuration.week.description' )}</p>\n\t\t\t\t\t\t<Accordion className=\"mt-3\" defaultActiveKey=\"todos\">\n\t\t\t\t\t\t\t<ItemsList\n\t\t\t\t\t\t\t\tfield=\"todos\"\n\t\t\t\t\t\t\t\ttitle={ t( 'configuration.week.todos.title' ) }\n\t\t\t\t\t\t\t\titems={ this.state.todos }\n\t\t\t\t\t\t\t\tonAdd={ this.handleItemAdd }\n\t\t\t\t\t\t\t\tonChange={ this.handleItemChange }\n\t\t\t\t\t\t\t\tonRemove={ this.handleItemRemove }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Accordion>\n\t\t\t\t\t</ToggleAccordionItem>\n\t\t\t\t\t<Accordion.Item eventKey=\"dayItineraries\">\n\t\t\t\t\t\t<Accordion.Header>{t( 'configuration.day.title' )}</Accordion.Header>\n\t\t\t\t\t\t<Accordion.Body>\n\t\t\t\t\t\t\t<Accordion defaultActiveKey=\"0\">\n\t\t\t\t\t\t\t\t{getWeekdays().map( this.renderDayItinerary )}\n\t\t\t\t\t\t\t</Accordion>\n\t\t\t\t\t\t</Accordion.Body>\n\t\t\t\t\t</Accordion.Item>\n\t\t\t\t\t<ToggleAccordionItem\n\t\t\t\t\t\tid=\"isWeekRetrospectiveEnabled\"\n\t\t\t\t\t\ttitle={ t( 'configuration.week.retrospective.title' ) }\n\t\t\t\t\t\tonToggle={ this.handleToggle }\n\t\t\t\t\t\ttoggledOn={ this.state.isWeekRetrospectiveEnabled }\n\t\t\t\t\t>\n\t\t\t\t\t\t<p className=\"mb-0\">\n\t\t\t\t\t\t\t{t( 'configuration.week.retrospective.description' )}\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<Accordion\n\t\t\t\t\t\t\tclassName=\"mt-3\"\n\t\t\t\t\t\t\tdefaultActiveKey=\"weekRetrospectiveItinerary\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Accordion.Item eventKey=\"weekRetrospectiveItinerary\">\n\t\t\t\t\t\t\t\t<Accordion.Header>\n\t\t\t\t\t\t\t\t\t{t( 'configuration.week.retrospective.itinerary.title' )}\n\t\t\t\t\t\t\t\t</Accordion.Header>\n\t\t\t\t\t\t\t\t<Accordion.Body>\n\t\t\t\t\t\t\t\t\t<Itinerary\n\t\t\t\t\t\t\t\t\t\tfield=\"weekRetrospectiveItinerary\"\n\t\t\t\t\t\t\t\t\t\titinerary={ this.state.weekRetrospectiveItinerary }\n\t\t\t\t\t\t\t\t\t\tonAdd={ this.handleItineraryAdd }\n\t\t\t\t\t\t\t\t\t\tonChange={ this.handleItineraryChange }\n\t\t\t\t\t\t\t\t\t\tonRemove={ this.handleItineraryRemove }\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Accordion.Body>\n\t\t\t\t\t\t\t</Accordion.Item>\n\t\t\t\t\t\t</Accordion>\n\t\t\t\t\t</ToggleAccordionItem>\n\t\t\t\t</Accordion>\n\t\t\t\t<Stack\n\t\t\t\t\tdirection=\"vertical\"\n\t\t\t\t\tgap={ 2 }\n\t\t\t\t\tclassName=\"pt-3 position-sticky bg-body refresh-button\"\n\t\t\t\t>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\t\tclassName=\"w-100\"\n\t\t\t\t\t\tdisabled={ isGeneratingPreview || isGeneratingPdf }\n\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{isGeneratingPreview ? (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<Spinner\n\t\t\t\t\t\t\t\t\tas=\"span\"\n\t\t\t\t\t\t\t\t\tanimation=\"border\"\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\trole=\"status\"\n\t\t\t\t\t\t\t\t\taria-hidden=\"true\"\n\t\t\t\t\t\t\t\t\tclassName=\"me-1\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t{t( 'configuration.button.generating' )}\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\tt( 'configuration.button.refresh' )\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Button>\n\t\t\t\t\t{isGeneratingPreview && (\n\t\t\t\t\t\t<PdfProgress expectedTime={ this.state.lastPreviewTime } />\n\t\t\t\t\t)}\n\t\t\t\t\t<Form.Text className=\"text-muted pb-3\">\n\t\t\t\t\t\t{t( 'configuration.generation-description' )}\n\t\t\t\t\t</Form.Text>\n\t\t\t\t</Stack>\n\t\t\t</Form>\n\t\t);\n\t}\n\n\trender() {\n\t\tconst { t } = this.props;\n\n\t\treturn (\n\t\t\t<Container className=\"h-100\" fluid>\n\t\t\t\t<Row className=\"h-100\">\n\t\t\t\t\t<Col>{this.renderConfigurationForm()}</Col>\n\t\t\t\t\t<Col>\n\t\t\t\t\t\t<div className=\"pt-3 pb-3 position-sticky top-0 vh-100\">\n\t\t\t\t\t\t\t<Card className=\"h-100\">\n\t\t\t\t\t\t\t\t<Card.Header>\n\t\t\t\t\t\t\t\t\t{t( 'preview.title' )}{' '}\n\t\t\t\t\t\t\t\t\t<small className=\"text-muted\">{t( 'preview.subtitle' )}</small>\n\t\t\t\t\t\t\t\t</Card.Header>\n\t\t\t\t\t\t\t\t<Card.Body className=\"pb-0\">\n\t\t\t\t\t\t\t\t\t<PdfPreviewCard\n\t\t\t\t\t\t\t\t\t\tblobUrl={ this.state.blobUrl }\n\t\t\t\t\t\t\t\t\t\texpectedTime={\n\t\t\t\t\t\t\t\t\t\t\tthis.state.lastFullTime || 12 * this.state.lastPreviewTime\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tisGeneratingPdf={ this.state.isGeneratingPdf }\n\t\t\t\t\t\t\t\t\t\tisGeneratingPreview={ this.state.isGeneratingPreview }\n\t\t\t\t\t\t\t\t\t\tonDownload={ this.handleDownload }\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t</Container>\n\t\t);\n\t}\n}\n\nConfiguration.propTypes = {\n\tinitialState: PropTypes.instanceOf( PdfConfig ).isRequired,\n\tt: PropTypes.func.isRequired,\n};\n\nexport default withTranslation( [ 'app' ] )( Configuration );\n","import i18n, { changeLanguage } from 'i18next';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport Container from 'react-bootstrap/Container';\nimport Form from 'react-bootstrap/Form';\nimport Nav from 'react-bootstrap/Nav';\nimport Navbar from 'react-bootstrap/Navbar';\nimport Stack from 'react-bootstrap/Stack';\nimport { withTranslation } from 'react-i18next';\n\nimport { getSupportedLocales } from 'config/i18n';\nimport {\n\tHOME_PATH,\n\tCONFIGURATOR_PATH,\n\tFEATURES_PATH,\n\tFAQ_PATH,\n} from 'lib/paths';\n\nclass Navigation extends React.Component {\n\tstate = {\n\t\tlanguage: i18n.language,\n\t};\n\n\tcomponentDidMount() {\n\t\ti18n.on( 'languageChanged', this.handleLanguageChange );\n\t}\n\n\tcomponentWillUnmount() {\n\t\ti18n.off( 'languageChanged', this.handleLanguageChange );\n\t}\n\n\thandleLanguageSelection = ( event ) => {\n\t\tconst newLanguage = event.target.value;\n\t\tchangeLanguage( newLanguage );\n\t};\n\n\thandleLanguageChange = ( newLanguage ) => {\n\t\tthis.setState( { language: newLanguage } );\n\t};\n\n\trenderLanguageOption = ( language ) => {\n\t\treturn (\n\t\t\t<option key={ language } value={ language }>\n\t\t\t\t{this.props.t( 'language.' + language )}\n\t\t\t</option>\n\t\t);\n\t};\n\n\trender() {\n\t\tconst { t } = this.props;\n\t\treturn (\n\t\t\t<Navbar bg=\"dark\" variant=\"dark\" expand=\"md\">\n\t\t\t\t<Container fluid>\n\t\t\t\t\t<Navbar.Brand href={ HOME_PATH }>ReCalendar</Navbar.Brand>\n\t\t\t\t\t<Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\n\t\t\t\t\t<Navbar.Collapse id=\"basic-navbar-nav\">\n\t\t\t\t\t\t<Nav className=\"me-auto\" variant=\"pills\">\n\t\t\t\t\t\t\t<Nav.Item>\n\t\t\t\t\t\t\t\t<Nav.Link href={ HOME_PATH }>{t( 'navigation.home' )}</Nav.Link>\n\t\t\t\t\t\t\t</Nav.Item>\n\t\t\t\t\t\t\t<Nav.Item>\n\t\t\t\t\t\t\t\t<Nav.Link href={ CONFIGURATOR_PATH } active>\n\t\t\t\t\t\t\t\t\t{t( 'navigation.configuration' )}\n\t\t\t\t\t\t\t\t</Nav.Link>\n\t\t\t\t\t\t\t</Nav.Item>\n\t\t\t\t\t\t\t<Nav.Item>\n\t\t\t\t\t\t\t\t<Nav.Link href={ FEATURES_PATH }>\n\t\t\t\t\t\t\t\t\t{t( 'navigation.features' )}\n\t\t\t\t\t\t\t\t</Nav.Link>\n\t\t\t\t\t\t\t</Nav.Item>\n\t\t\t\t\t\t\t<Nav.Item>\n\t\t\t\t\t\t\t\t<Nav.Link href={ FAQ_PATH }>{t( 'navigation.faq' )}</Nav.Link>\n\t\t\t\t\t\t\t</Nav.Item>\n\t\t\t\t\t\t</Nav>\n\t\t\t\t\t\t<Stack direction=\"horizontal\">\n\t\t\t\t\t\t\t<Form.Label\n\t\t\t\t\t\t\t\tcolumn\n\t\t\t\t\t\t\t\tclassName=\"text-light me-3\"\n\t\t\t\t\t\t\t\thtmlFor=\"languagePicker\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{t( 'language.label' )}\n\t\t\t\t\t\t\t</Form.Label>\n\t\t\t\t\t\t\t<Form.Select\n\t\t\t\t\t\t\t\taria-label={ t( 'language.label' ) }\n\t\t\t\t\t\t\t\tclassName=\"language-select\"\n\t\t\t\t\t\t\t\tvalue={ this.state.language }\n\t\t\t\t\t\t\t\tonChange={ this.handleLanguageSelection }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{getSupportedLocales().map( this.renderLanguageOption )}\n\t\t\t\t\t\t\t</Form.Select>\n\t\t\t\t\t\t</Stack>\n\t\t\t\t\t</Navbar.Collapse>\n\t\t\t\t</Container>\n\t\t\t</Navbar>\n\t\t);\n\t}\n}\n\nNavigation.propTypes = {\n\tt: PropTypes.func.isRequired,\n};\n\nexport default withTranslation( [ 'app' ] )( Navigation );\n","export const RECALENDAR_JS_GITHUB =\n\t'https://github.com/klimeryk/recalendar.js/';\nexport const RECALENDAR_PHP_GITHUB = 'https://github.com/klimeryk/recalendar/';\n\nexport const HOME_PATH = '/';\nexport const CONFIGURATOR_PATH = '/create';\nexport const FEATURES_PATH = '/features';\nexport const FAQ_PATH = '/faq';\n","import React from 'react';\nimport { withTranslation } from 'react-i18next';\n\nimport Configuration from 'configuration';\nimport Navigation from 'navigation';\nimport PdfConfig from 'pdf/config';\n\nclass Loader extends React.Component {\n\tcomponentDidMount() {\n\t\t// eslint-disable-next-line react/no-did-mount-set-state\n\t\tthis.setState( { config: new PdfConfig() } );\n\t}\n\n\trender() {\n\t\tif ( ! this.state || ! this.state.config ) {\n\t\t\treturn null;\n\t\t}\n\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<Navigation />\n\t\t\t\t<Configuration initialState={ this.state.config } />\n\t\t\t</>\n\t\t);\n\t}\n}\n\nexport default withTranslation( [ 'app', 'config' ] )( Loader );\n","import dayjs from 'dayjs';\nimport i18n from 'i18next';\nimport LanguageDetector from 'i18next-browser-languagedetector';\nimport React, { Suspense } from 'react';\nimport Spinner from 'react-bootstrap/Spinner';\nimport ReactDOM from 'react-dom';\nimport { initReactI18next } from 'react-i18next';\n\nimport './index.css';\n\nimport 'config/dayjs';\nimport { i18nConfiguration, webpackBackend } from 'config/i18n';\nimport Loader from 'loader';\n\n// eslint-disable-next-line import/no-named-as-default-member\ni18n\n\t.use( webpackBackend )\n\t.use( LanguageDetector )\n\t.use( initReactI18next )\n\t.init( {\n\t\t...i18nConfiguration( [ 'app', 'pdf', 'config' ] ),\n\t} );\n\ni18n.on( 'languageChanged', ( newLanguage ) => {\n\trequire( 'dayjs/locale/' + newLanguage + '.js' );\n\tdayjs.locale( newLanguage );\n\tdayjs.updateLocale( newLanguage, {\n\t\tweekStart: 1, // Week starts on Monday\n\t} );\n} );\n\nconst loadingComponent = (\n\t<Spinner\n\t\tclassName=\"position-absolute top-50 start-50\"\n\t\tanimation=\"border\"\n\t\tvariant=\"primary\"\n\t\trole=\"status\"\n\t>\n\t\t<span className=\"visually-hidden\">Loading...</span>\n\t</Spinner>\n);\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<Suspense fallback={ loadingComponent }>\n\t\t\t<Loader />\n\t\t</Suspense>\n\t</React.StrictMode>,\n\tdocument.getElementById( 'root' ),\n);\n"],"sourceRoot":""}